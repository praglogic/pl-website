<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lilo Engine: Technical Architecture Brief - CONFIDENTIAL</title>
    <style>
        :root {
            --primary-color: #1a365d;
            --secondary-color: #2c5282;
            --accent-color: #3182ce;
            --danger-color: #c53030;
            --bg-color: #f7fafc;
            --text-color: #2d3748;
            --border-color: #e2e8f0;
            --sidebar-width: 280px;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background: var(--bg-color);
        }

        /* Confidential Banner */
        .confidential-banner {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: linear-gradient(135deg, #c53030, #9b2c2c);
            color: white;
            text-align: center;
            padding: 8px 20px;
            font-weight: 600;
            font-size: 12px;
            letter-spacing: 2px;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }

        .confidential-banner::before {
            content: "ğŸ”’ ";
        }

        .confidential-banner::after {
            content: " ğŸ”’";
        }

        /* Sidebar */
        .sidebar {
            position: fixed;
            top: 40px;
            left: 0;
            width: var(--sidebar-width);
            height: calc(100vh - 40px);
            background: white;
            border-right: 1px solid var(--border-color);
            overflow-y: auto;
            z-index: 100;
            transition: transform 0.3s ease;
        }

        .sidebar.collapsed {
            transform: translateX(-100%);
        }

        .sidebar-header {
            position: sticky;
            top: 0;
            background: var(--primary-color);
            color: white;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .sidebar-header h3 {
            margin: 0;
            font-size: 14px;
            font-weight: 600;
        }

        .sidebar-toggle {
            background: none;
            border: none;
            color: white;
            font-size: 18px;
            cursor: pointer;
            padding: 5px;
        }

        .nav-list {
            list-style: none;
            padding: 10px 0;
        }

        .nav-list li {
            margin: 0;
        }

        .nav-list a {
            display: block;
            padding: 8px 20px;
            color: var(--text-color);
            text-decoration: none;
            font-size: 13px;
            border-left: 3px solid transparent;
            transition: all 0.2s ease;
        }

        .nav-list a:hover {
            background: var(--bg-color);
            border-left-color: var(--accent-color);
        }

        .nav-list a.active {
            background: #ebf8ff;
            border-left-color: var(--accent-color);
            color: var(--accent-color);
            font-weight: 500;
        }

        .nav-level-2 a {
            font-weight: 600;
            color: var(--primary-color);
        }

        .nav-level-3 a {
            padding-left: 35px;
            font-size: 12px;
        }

        .nav-level-4 a {
            padding-left: 50px;
            font-size: 11px;
            color: #718096;
        }

        /* Main Content */
        .main-content {
            margin-left: var(--sidebar-width);
            margin-top: 40px;
            padding: 40px 60px;
            max-width: 1000px;
            background: white;
            min-height: calc(100vh - 40px);
        }

        .main-content.expanded {
            margin-left: 0;
        }

        /* Mobile toggle button */
        .mobile-toggle {
            display: none;
            position: fixed;
            top: 50px;
            left: 10px;
            z-index: 101;
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            box-shadow: 0 2px 10px rgba(0,0,0,0.2);
        }

        /* Navigation buttons */
        .nav-buttons {
            position: fixed;
            bottom: 30px;
            right: 30px;
            display: flex;
            gap: 10px;
            z-index: 100;
        }

        .nav-btn {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .nav-btn:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
        }

        .nav-btn:disabled {
            background: #a0aec0;
            cursor: not-allowed;
            transform: none;
        }

        /* Progress indicator */
        .progress-bar {
            position: fixed;
            top: 40px;
            left: var(--sidebar-width);
            right: 0;
            height: 3px;
            background: var(--border-color);
            z-index: 99;
        }

        .progress-bar .progress {
            height: 100%;
            background: var(--accent-color);
            width: 0%;
            transition: width 0.1s ease;
        }

        /* Typography */
        h1 {
            font-size: 2.5em;
            color: var(--primary-color);
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 3px solid var(--primary-color);
        }

        h2 {
            font-size: 1.8em;
            color: var(--secondary-color);
            margin-top: 50px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--border-color);
            scroll-margin-top: 60px;
        }

        h3 {
            font-size: 1.4em;
            color: var(--text-color);
            margin-top: 35px;
            margin-bottom: 15px;
            scroll-margin-top: 60px;
        }

        h4 {
            font-size: 1.1em;
            color: #4a5568;
            margin-top: 25px;
            margin-bottom: 10px;
            scroll-margin-top: 60px;
        }

        p {
            margin-bottom: 15px;
        }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 14px;
        }

        thead {
            background: var(--primary-color);
            color: white;
        }

        th {
            padding: 12px 15px;
            text-align: left;
            font-weight: 600;
        }

        td {
            padding: 10px 15px;
            border: 1px solid var(--border-color);
        }

        tr:nth-child(even) {
            background: var(--bg-color);
        }

        tr:hover {
            background: #edf2f7;
        }

        /* Images */
        .logo-img {
            display: block;
            margin: 0 0 20px 0;
        }

        .diagram-img {
            display: block;
            margin: 25px auto;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        img {
            max-width: 100%;
            height: auto;
        }

        /* Code blocks */
        pre {
            background: #1a202c;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            font-size: 13px;
            line-height: 1.5;
            margin: 20px 0;
        }

        code {
            font-family: 'SF Mono', Consolas, Monaco, monospace;
            font-size: 0.9em;
            background: #edf2f7;
            padding: 2px 6px;
            border-radius: 4px;
        }

        pre code {
            background: none;
            padding: 0;
        }

        /* Blockquotes */
        blockquote {
            margin: 20px 0;
            padding: 15px 25px;
            border-left: 4px solid var(--accent-color);
            background: #ebf8ff;
            border-radius: 0 8px 8px 0;
        }

        blockquote p:last-child {
            margin-bottom: 0;
        }

        /* Lists */
        ul, ol {
            margin: 15px 0;
            padding-left: 30px;
        }

        li {
            margin-bottom: 8px;
        }

        /* Links */
        a {
            color: var(--accent-color);
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        /* Horizontal rules */
        hr {
            border: none;
            border-top: 2px solid var(--border-color);
            margin: 40px 0;
        }

        /* Status badges */
        strong {
            color: var(--primary-color);
        }

        /* Print styles */
        @media print {
            .sidebar, .nav-buttons, .confidential-banner, .progress-bar, .mobile-toggle {
                display: none !important;
            }

            .main-content {
                margin: 0;
                padding: 20px;
            }

            h2 {
                page-break-before: always;
            }

            table, img, pre {
                page-break-inside: avoid;
            }

            @page {
                margin: 2cm;
                @top-center {
                    content: "CONFIDENTIAL";
                }
            }
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .sidebar {
                transform: translateX(-100%);
            }

            .sidebar.open {
                transform: translateX(0);
            }

            .main-content {
                margin-left: 0;
            }

            .mobile-toggle {
                display: block;
            }

            .progress-bar {
                left: 0;
            }
        }

        @media (max-width: 768px) {
            .main-content {
                padding: 20px;
            }

            h1 {
                font-size: 1.8em;
            }

            h2 {
                font-size: 1.4em;
            }

            .nav-buttons {
                bottom: 15px;
                right: 15px;
            }

            .nav-btn {
                padding: 10px 15px;
                font-size: 12px;
            }
        }
    </style>
</head>
<body>
    <!-- Confidential Banner -->
    <div class="confidential-banner">
        CONFIDENTIAL - FOR AUTHORIZED RECIPIENTS ONLY
    </div>

    <!-- Mobile Toggle -->
    <button class="mobile-toggle" onclick="toggleSidebar()">â˜° Menu</button>

    <!-- Progress Bar -->
    <div class="progress-bar">
        <div class="progress" id="progress"></div>
    </div>

    <!-- Sidebar Navigation -->
    <nav class="sidebar" id="sidebar">
<div class="sidebar-header">
<h3>Navigation</h3>
<button class="sidebar-toggle" onclick="toggleSidebar()">â˜°</button>
</div>
<ul class="nav-list">
<li class="nav-level-2"><a href="#executive-summary" onclick="navigateTo('executive-summary')">Executive Summary</a></li>
<li class="nav-level-3"><a href="#document-guide" onclick="navigateTo('document-guide')">Document Guide</a></li>
<li class="nav-level-3"><a href="#maturity-state-legend" onclick="navigateTo('maturity-state-legend')">Maturity State Legend</a></li>
<li class="nav-level-3"><a href="#state-at-a-glance-matrix" onclick="navigateTo('state-at-a-glance-matrix')">State-at-a-Glance Matrix</a></li>
<li class="nav-level-3"><a href="#table-of-contents" onclick="navigateTo('table-of-contents')">Table of Contents</a></li>
<li class="nav-level-2"><a href="#introduction-the-challenge-we-address" onclick="navigateTo('introduction-the-challenge-we-address')">Introduction: The Challenge We Address</a></li>
<li class="nav-level-3"><a href="#the-elderly-mental-health-crisis" onclick="navigateTo('the-elderly-mental-health-crisis')">The Elderly Mental Health Crisis</a></li>
<li class="nav-level-3"><a href="#why-current-solutions-fall-short" onclick="navigateTo('why-current-solutions-fall-short')">Why Current Solutions Fall Short</a></li>
<li class="nav-level-3"><a href="#how-this-document-is-organized" onclick="navigateTo('how-this-document-is-organized')">How This Document is Organized</a></li>
<li class="nav-level-3"><a href="#understanding-temporal-states" onclick="navigateTo('understanding-temporal-states')">Understanding Temporal States</a></li>
<li class="nav-level-2"><a href="#1-safety-first-pipeline-critical-differentiator" onclick="navigateTo('1-safety-first-pipeline-critical-differentiator')">1. Safety-First Pipeline (Critical Diffe...</a></li>
<li class="nav-level-3"><a href="#11-the-architectural-mandate" onclick="navigateTo('11-the-architectural-mandate')">1.1 The Architectural Mandate</a></li>
<li class="nav-level-3"><a href="#12-why-deterministic-guardrails-for-probabilistic-ai" onclick="navigateTo('12-why-deterministic-guardrails-for-probabilistic-ai')">1.2 Why Deterministic Guardrails for Pro...</a></li>
<li class="nav-level-3"><a href="#13-crisis-severity-classification" onclick="navigateTo('13-crisis-severity-classification')">1.3 Crisis Severity Classification</a></li>
<li class="nav-level-3"><a href="#14-three-stage-detection-architecture" onclick="navigateTo('14-three-stage-detection-architecture')">1.4 Three-Stage Detection Architecture</a></li>
<li class="nav-level-3"><a href="#15-ensemble-detection-evolution-tactical-phase-2" onclick="navigateTo('15-ensemble-detection-evolution-tactical-phase-2')">1.5 Ensemble Detection Evolution (Tactic...</a></li>
<li class="nav-level-2"><a href="#2-technology-stack-current-state" onclick="navigateTo('2-technology-stack-current-state')">2. Technology Stack (Current State)</a></li>
<li class="nav-level-3"><a href="#21-current-stack" onclick="navigateTo('21-current-stack')">2.1 Current Stack</a></li>
<li class="nav-level-3"><a href="#22-service-architecture" onclick="navigateTo('22-service-architecture')">2.2 Service Architecture</a></li>
<li class="nav-level-3"><a href="#23-performance-baselines" onclick="navigateTo('23-performance-baselines')">2.3 Performance Baselines</a></li>
<li class="nav-level-2"><a href="#3-healthcare-compliance-architecture" onclick="navigateTo('3-healthcare-compliance-architecture')">3. Healthcare Compliance Architecture</a></li>
<li class="nav-level-3"><a href="#31-hipaa-technical-safeguards" onclick="navigateTo('31-hipaa-technical-safeguards')">3.1 HIPAA Technical Safeguards</a></li>
<li class="nav-level-3"><a href="#32-privacy-security-architecture" onclick="navigateTo('32-privacy-security-architecture')">3.2 Privacy & Security Architecture</a></li>
<li class="nav-level-3"><a href="#33-emergency-contact-system" onclick="navigateTo('33-emergency-contact-system')">3.3 Emergency Contact System</a></li>
<li class="nav-level-2"><a href="#4-key-performance-metrics" onclick="navigateTo('4-key-performance-metrics')">4. Key Performance Metrics</a></li>
<li class="nav-level-3"><a href="#41-production-metrics-current-state" onclick="navigateTo('41-production-metrics-current-state')">4.1 Production Metrics (Current State)</a></li>
<li class="nav-level-3"><a href="#42-clinical-evidence-base" onclick="navigateTo('42-clinical-evidence-base')">4.2 Clinical Evidence Base</a></li>
<li class="nav-level-3"><a href="#43-engagement-satisfaction-metrics" onclick="navigateTo('43-engagement-satisfaction-metrics')">4.3 Engagement & Satisfaction Metrics</a></li>
<li class="nav-level-3"><a href="#44-payer-value-demonstration" onclick="navigateTo('44-payer-value-demonstration')">4.4 Payer Value Demonstration</a></li>
<li class="nav-level-2"><a href="#5-enterprise-scaling-deployment" onclick="navigateTo('5-enterprise-scaling-deployment')">5. Enterprise Scaling & Deployment</a></li>
<li class="nav-level-3"><a href="#51-edge-first-architecture" onclick="navigateTo('51-edge-first-architecture')">5.1 Edge-First Architecture</a></li>
<li class="nav-level-3"><a href="#52-deployment-tiers" onclick="navigateTo('52-deployment-tiers')">5.2 Deployment Tiers</a></li>
<li class="nav-level-3"><a href="#53-multi-tenancy-isolation" onclick="navigateTo('53-multi-tenancy-isolation')">5.3 Multi-Tenancy & Isolation</a></li>
<li class="nav-level-2"><a href="#6-technical-operations-readiness" onclick="navigateTo('6-technical-operations-readiness')">6. Technical Operations & Readiness</a></li>
<li class="nav-level-3"><a href="#61-scalability-capacity-planning" onclick="navigateTo('61-scalability-capacity-planning')">6.1 Scalability & Capacity Planning</a></li>
<li class="nav-level-3"><a href="#62-disaster-recovery-business-continuity" onclick="navigateTo('62-disaster-recovery-business-continuity')">6.2 Disaster Recovery & Business Continu...</a></li>
<li class="nav-level-3"><a href="#63-integration-architecture" onclick="navigateTo('63-integration-architecture')">6.3 Integration Architecture</a></li>
<li class="nav-level-3"><a href="#64-security-threat-model" onclick="navigateTo('64-security-threat-model')">6.4 Security & Threat Model</a></li>
<li class="nav-level-3"><a href="#65-technical-debt-register" onclick="navigateTo('65-technical-debt-register')">6.5 Technical Debt Register</a></li>
<li class="nav-level-2"><a href="#7-future-state-vision-2025-2027" onclick="navigateTo('7-future-state-vision-2025-2027')">7. Future State & Vision (2025-2027)</a></li>
<li class="nav-level-3"><a href="#71-platform-transformation" onclick="navigateTo('71-platform-transformation')">7.1 Platform Transformation</a></li>
<li class="nav-level-3"><a href="#72-key-metrics-evolution" onclick="navigateTo('72-key-metrics-evolution')">7.2 Key Metrics Evolution</a></li>
<li class="nav-level-3"><a href="#721-ml-lifecycle-quality-gates" onclick="navigateTo('721-ml-lifecycle-quality-gates')">7.2.1 ML Lifecycle & Quality Gates</a></li>
<li class="nav-level-3"><a href="#73-architecture-transformation" onclick="navigateTo('73-architecture-transformation')">7.3 Architecture Transformation</a></li>
<li class="nav-level-3"><a href="#74-affective-ai-innovation-roadmap" onclick="navigateTo('74-affective-ai-innovation-roadmap')">7.4 Affective AI Innovation Roadmap</a></li>
<li class="nav-level-3"><a href="#75-nlu-architecture-evolution" onclick="navigateTo('75-nlu-architecture-evolution')">7.5 NLU Architecture Evolution</a></li>
<li class="nav-level-3"><a href="#76-clinical-validation-fda-pathway" onclick="navigateTo('76-clinical-validation-fda-pathway')">7.6 Clinical Validation & FDA Pathway</a></li>
<li class="nav-level-3"><a href="#77-device-integration-roadmap" onclick="navigateTo('77-device-integration-roadmap')">7.7 Device Integration Roadmap</a></li>
<li class="nav-level-3"><a href="#78-investment-summary" onclick="navigateTo('78-investment-summary')">7.8 Investment Summary</a></li>
<li class="nav-level-3"><a href="#79-strategic-partnerships" onclick="navigateTo('79-strategic-partnerships')">7.9 Strategic Partnerships</a></li>
<li class="nav-level-3"><a href="#710-international-expansion-roadmap" onclick="navigateTo('710-international-expansion-roadmap')">7.10 International Expansion Roadmap</a></li>
<li class="nav-level-2"><a href="#8-competitive-differentiation" onclick="navigateTo('8-competitive-differentiation')">8. Competitive Differentiation</a></li>
<li class="nav-level-3"><a href="#81-defensible-competitive-moats" onclick="navigateTo('81-defensible-competitive-moats')">8.1 Defensible Competitive Moats</a></li>
<li class="nav-level-2"><a href="#9-risk-mitigation-governance" onclick="navigateTo('9-risk-mitigation-governance')">9. Risk Mitigation & Governance</a></li>
<li class="nav-level-3"><a href="#91-core-risk-philosophy" onclick="navigateTo('91-core-risk-philosophy')">9.1 Core Risk Philosophy</a></li>
<li class="nav-level-3"><a href="#911-ai-infrastructure-risks-training-pipeline" onclick="navigateTo('911-ai-infrastructure-risks-training-pipeline')">9.1.1 AI Infrastructure Risks (Training ...</a></li>
<li class="nav-level-3"><a href="#92-failure-mode-handling" onclick="navigateTo('92-failure-mode-handling')">9.2 Failure Mode Handling</a></li>
<li class="nav-level-3"><a href="#93-human-in-the-loop-protocols" onclick="navigateTo('93-human-in-the-loop-protocols')">9.3 Human-in-the-Loop Protocols</a></li>
<li class="nav-level-3"><a href="#94-liability-framework" onclick="navigateTo('94-liability-framework')">9.4 Liability Framework</a></li>
<li class="nav-level-3"><a href="#95-governance-oversight" onclick="navigateTo('95-governance-oversight')">9.5 Governance & Oversight</a></li>
<li class="nav-level-3"><a href="#96-transparency-explainability" onclick="navigateTo('96-transparency-explainability')">9.6 Transparency & Explainability</a></li>
<li class="nav-level-2"><a href="#appendix-a-system-architecture" onclick="navigateTo('appendix-a-system-architecture')">Appendix A: System Architecture</a></li>
<li class="nav-level-3"><a href="#a1-design-principles" onclick="navigateTo('a1-design-principles')">A.1 Design Principles</a></li>
<li class="nav-level-3"><a href="#a2-enterprise-ai-philosophy" onclick="navigateTo('a2-enterprise-ai-philosophy')">A.2 Enterprise AI Philosophy</a></li>
<li class="nav-level-3"><a href="#a3-high-level-service-topology" onclick="navigateTo('a3-high-level-service-topology')">A.3 High-Level Service Topology</a></li>
<li class="nav-level-3"><a href="#a4-service-inventory" onclick="navigateTo('a4-service-inventory')">A.4 Service Inventory</a></li>
<li class="nav-level-2"><a href="#appendix-b-aiml-stack-deep-dive" onclick="navigateTo('appendix-b-aiml-stack-deep-dive')">Appendix B: AI/ML Stack Deep Dive</a></li>
<li class="nav-level-3"><a href="#b1-crisis-detection-deep-dive" onclick="navigateTo('b1-crisis-detection-deep-dive')">B.1 Crisis Detection Deep Dive</a></li>
<li class="nav-level-4"><a href="#architecture-exemplar-based-classification-k-nn" onclick="navigateTo('architecture-exemplar-based-classification-k-nn')">Architecture: Exemplar-Based Classificat...</a></li>
<li class="nav-level-4"><a href="#the-three-stage-pipeline" onclick="navigateTo('the-three-stage-pipeline')">The Three-Stage Pipeline</a></li>
<li class="nav-level-3"><a href="#b2-model-inventory" onclick="navigateTo('b2-model-inventory')">B.2 Model Inventory</a></li>
<li class="nav-level-3"><a href="#b3-hybrid-rag-architecture" onclick="navigateTo('b3-hybrid-rag-architecture')">B.3 Hybrid RAG Architecture</a></li>
<li class="nav-level-4"><a href="#rag-source-selection-conditional-parallel" onclick="navigateTo('rag-source-selection-conditional-parallel')">RAG Source Selection (Conditional, Paral...</a></li>
<li class="nav-level-3"><a href="#b4-intent-classification-pipeline" onclick="navigateTo('b4-intent-classification-pipeline')">B.4 Intent Classification Pipeline</a></li>
<li class="nav-level-4"><a href="#tiered-classification-with-affect-analysis" onclick="navigateTo('tiered-classification-with-affect-analysis')">Tiered Classification with Affect Analys...</a></li>
<li class="nav-level-3"><a href="#b5-agent-coordination" onclick="navigateTo('b5-agent-coordination')">B.5 Agent Coordination</a></li>
<li class="nav-level-3"><a href="#b51-training-infrastructure-milestones" onclick="navigateTo('b51-training-infrastructure-milestones')">B.5.1 Training Infrastructure Milestones</a></li>
<li class="nav-level-3"><a href="#b6-voice-pipeline" onclick="navigateTo('b6-voice-pipeline')">B.6 Voice Pipeline</a></li>
<li class="nav-level-2"><a href="#appendix-c-polyglot-architecture" onclick="navigateTo('appendix-c-polyglot-architecture')">Appendix C: Polyglot Architecture</a></li>
<li class="nav-level-3"><a href="#c1-language-selection-rationale" onclick="navigateTo('c1-language-selection-rationale')">C.1 Language Selection Rationale</a></li>
<li class="nav-level-3"><a href="#c2-service-distribution" onclick="navigateTo('c2-service-distribution')">C.2 Service Distribution</a></li>
<li class="nav-level-2"><a href="#appendix-d-mlops-production-operations" onclick="navigateTo('appendix-d-mlops-production-operations')">Appendix D: MLOps & Production Operation...</a></li>
<li class="nav-level-3"><a href="#d1-ml-lifecycle-management" onclick="navigateTo('d1-ml-lifecycle-management')">D.1 ML Lifecycle Management</a></li>
<li class="nav-level-3"><a href="#d2-observability-stack" onclick="navigateTo('d2-observability-stack')">D.2 Observability Stack</a></li>
<li class="nav-level-3"><a href="#d3-key-operational-metrics" onclick="navigateTo('d3-key-operational-metrics')">D.3 Key Operational Metrics</a></li>
<li class="nav-level-2"><a href="#appendix-e-configuration-hot-reload" onclick="navigateTo('appendix-e-configuration-hot-reload')">Appendix E: Configuration & Hot-Reload</a></li>
<li class="nav-level-3"><a href="#e1-configuration-architecture" onclick="navigateTo('e1-configuration-architecture')">E.1 Configuration Architecture</a></li>
<li class="nav-level-3"><a href="#e2-configuration-layers" onclick="navigateTo('e2-configuration-layers')">E.2 Configuration Layers</a></li>
<li class="nav-level-3"><a href="#e3-configurable-parameters" onclick="navigateTo('e3-configurable-parameters')">E.3 Configurable Parameters</a></li>
<li class="nav-level-2"><a href="#appendix-f-repository-documentation" onclick="navigateTo('appendix-f-repository-documentation')">Appendix F: Repository & Documentation</a></li>
<li class="nav-level-2"><a href="#appendix-g-contact-information" onclick="navigateTo('appendix-g-contact-information')">Appendix G: Contact Information</a></li>
<li class="nav-level-2"><a href="#appendix-h-ml-training-infrastructure" onclick="navigateTo('appendix-h-ml-training-infrastructure')">Appendix H: ML Training Infrastructure</a></li>
<li class="nav-level-3"><a href="#h1-model-quality-ab-testing" onclick="navigateTo('h1-model-quality-ab-testing')">H.1 Model Quality A/B Testing</a></li>
<li class="nav-level-3"><a href="#h2-therapeutic-fine-tuning" onclick="navigateTo('h2-therapeutic-fine-tuning')">H.2 Therapeutic Fine-Tuning</a></li>
<li class="nav-level-3"><a href="#h3-user-preference-learning-dpo" onclick="navigateTo('h3-user-preference-learning-dpo')">H.3 User Preference Learning (DPO)</a></li>
<li class="nav-level-3"><a href="#h4-ml-orchestration" onclick="navigateTo('h4-ml-orchestration')">H.4 ML Orchestration</a></li>
<li class="nav-level-3"><a href="#h5-model-drift-detection" onclick="navigateTo('h5-model-drift-detection')">H.5 Model Drift Detection</a></li>
<li class="nav-level-3"><a href="#h6-edge-safety-verification" onclick="navigateTo('h6-edge-safety-verification')">H.6 Edge Safety Verification</a></li>
<li class="nav-level-2"><a href="#appendix-i-api-contracts-data-model" onclick="navigateTo('appendix-i-api-contracts-data-model')">Appendix I: API Contracts & Data Model</a></li>
<li class="nav-level-3"><a href="#i1-rest-api-overview" onclick="navigateTo('i1-rest-api-overview')">I.1 REST API Overview</a></li>
<li class="nav-level-4"><a href="#i11-key-integration-endpoints" onclick="navigateTo('i11-key-integration-endpoints')">I.1.1 Key Integration Endpoints</a></li>
<li class="nav-level-4"><a href="#i12-planned-integrations" onclick="navigateTo('i12-planned-integrations')">I.1.2 Planned Integrations</a></li>
<li class="nav-level-3"><a href="#i2-websocket-protocol" onclick="navigateTo('i2-websocket-protocol')">I.2 WebSocket Protocol</a></li>
<li class="nav-level-3"><a href="#i3-fhir-resource-mappings" onclick="navigateTo('i3-fhir-resource-mappings')">I.3 FHIR Resource Mappings</a></li>
<li class="nav-level-3"><a href="#i4-core-database-schema" onclick="navigateTo('i4-core-database-schema')">I.4 Core Database Schema</a></li>
<li class="nav-level-2"><a href="#appendix-j-security-threat-model" onclick="navigateTo('appendix-j-security-threat-model')">Appendix J: Security & Threat Model</a></li>
<li class="nav-level-3"><a href="#j1-threat-model-diagram-stride" onclick="navigateTo('j1-threat-model-diagram-stride')">J.1 Threat Model Diagram (STRIDE)</a></li>
<li class="nav-level-3"><a href="#j2-ai-red-team-findings-nov-2025" onclick="navigateTo('j2-ai-red-team-findings-nov-2025')">J.2 AI Red Team Findings (Nov 2025)</a></li>
<li class="nav-level-3"><a href="#j3-penetration-test-summary" onclick="navigateTo('j3-penetration-test-summary')">J.3 Penetration Test Summary</a></li>
<li class="nav-level-3"><a href="#j4-vulnerability-management-slas" onclick="navigateTo('j4-vulnerability-management-slas')">J.4 Vulnerability Management SLAs</a></li>
<li class="nav-level-2"><a href="#appendix-k-performance-benchmarking" onclick="navigateTo('appendix-k-performance-benchmarking')">Appendix K: Performance Benchmarking</a></li>
<li class="nav-level-3"><a href="#k1-test-environment-specifications" onclick="navigateTo('k1-test-environment-specifications')">K.1 Test Environment Specifications</a></li>
<li class="nav-level-3"><a href="#k2-latency-benchmarks" onclick="navigateTo('k2-latency-benchmarks')">K.2 Latency Benchmarks</a></li>
<li class="nav-level-3"><a href="#k3-throughput-benchmarks" onclick="navigateTo('k3-throughput-benchmarks')">K.3 Throughput Benchmarks</a></li>
<li class="nav-level-3"><a href="#k4-sample-test-prompts" onclick="navigateTo('k4-sample-test-prompts')">K.4 Sample Test Prompts</a></li>
<li class="nav-level-2"><a href="#appendix-l-oss-governance-vendor-risk" onclick="navigateTo('appendix-l-oss-governance-vendor-risk')">Appendix L: OSS Governance & Vendor Risk</a></li>
<li class="nav-level-3"><a href="#l1-open-source-license-inventory" onclick="navigateTo('l1-open-source-license-inventory')">L.1 Open Source License Inventory</a></li>
<li class="nav-level-3"><a href="#l11-license-risk-flags" onclick="navigateTo('l11-license-risk-flags')">L.1.1 License Risk Flags</a></li>
<li class="nav-level-3"><a href="#l2-vendor-lock-in-assessment" onclick="navigateTo('l2-vendor-lock-in-assessment')">L.2 Vendor Lock-in Assessment</a></li>
<li class="nav-level-3"><a href="#l3-exit-strategy-matrix" onclick="navigateTo('l3-exit-strategy-matrix')">L.3 Exit Strategy Matrix</a></li>
<li class="nav-level-3"><a href="#l4-competitive-moat-durability" onclick="navigateTo('l4-competitive-moat-durability')">L.4 Competitive Moat Durability</a></li>
</ul>
</nav>

    <!-- Main Content -->
    <main class="main-content" id="main-content">
        <p><img src="pragmaticlogic-logo.png" alt="Pragmatic Logic AI" class="logo-img" style="width: 120px; height: auto;"></p>
<h1 id="lilo-engine-technical-architecture-brief">Lilo Engine: Technical Architecture Brief</h1>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Author</strong></td>
<td>Aejaz Sheriff Quaraishi, Principal Software Architect</td>
</tr>
<tr>
<td><strong>Organization</strong></td>
<td>Pragmatic Logic AI</td>
</tr>
<tr>
<td><strong>Date</strong></td>
<td>December 2025</td>
</tr>
<tr>
<td><strong>Classification</strong></td>
<td>Confidential - Executive Review</td>
</tr>
<tr>
<td><strong>Contact</strong></td>
<td>678-764-0066 Â· <a href="mailto:asq.sheriff@pm.me">asq.sheriff@pm.me</a> Â· <a href="https://linkedin.com/in/asheriff">LinkedIn</a> Â· <a href="https://github.com/asq-sheriff">GitHub</a> Â· Atlanta, GA</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="executive-summary">Executive Summary</h2>
<p><strong>Lilo Engine</strong> is a production-grade therapeutic AI platform for elderly mental health support in assisted living facilities. The platform delivers:</p>
<table>
<thead>
<tr>
<th>Capability</th>
<th>Achievement</th>
<th>Enterprise Relevance</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Safety-First AI</strong></td>
<td>100% crisis detection recall, &lt;1s response</td>
<td>Deterministic guardrails for probabilistic AI</td>
</tr>
<tr>
<td><strong>Clinical Evidence</strong></td>
<td>35% depression reduction, 40-60% anxiety reduction</td>
<td>Evidence-based therapeutic interventions</td>
</tr>
<tr>
<td><strong>Production Scale</strong></td>
<td>99.97% uptime, 42-85ms per-token streaming</td>
<td>Enterprise SLA-ready infrastructure</td>
</tr>
<tr>
<td><strong>Healthcare Compliance</strong></td>
<td>HIPAA-native, Zero PHI in logs</td>
<td>Built for regulated environments</td>
</tr>
<tr>
<td><strong>Edge-Ready</strong></td>
<td>90% on-device / 10% cloud architecture</td>
<td>Privacy-first, low-latency deployment</td>
</tr>
</tbody>
</table>
<p><strong>Core Thesis:</strong> We cannot trust GenAI to be safeâ€”we must force it to be safe through architectural enforcement.</p>
<h3 id="document-guide">Document Guide</h3>
<table>
<thead>
<tr>
<th>Audience</th>
<th>Recommended Sections</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Executive Review</strong></td>
<td><a href="#1-safety-first-pipeline-critical-differentiator">Sections 1-9</a> (45 min read)</td>
</tr>
<tr>
<td><strong>Strategy &amp; Investment</strong></td>
<td><a href="#7-future-state--vision-2025-2027">Section 7 - Future State &amp; Vision</a></td>
</tr>
<tr>
<td><strong>Risk &amp; Compliance</strong></td>
<td><a href="#9-risk-mitigation--governance">Section 9 - Risk Mitigation &amp; Governance</a></td>
</tr>
<tr>
<td><strong>Technical Operations</strong></td>
<td><a href="#6-technical-operations--readiness">Section 6 - Technical Operations &amp; Readiness</a></td>
</tr>
<tr>
<td><strong>Technical Due Diligence</strong></td>
<td><a href="#appendix-a-system-architecture">Appendices A-L</a> (additional 45 min)</td>
</tr>
</tbody>
</table>
<h3 id="maturity-state-legend">Maturity State Legend</h3>
<blockquote>
<p><strong>Understanding Component Readiness:</strong> This document covers current production, in-flight development, and planned capabilities. Use these indicators to assess implementation risk and timeline.</p>
</blockquote>
<table>
<thead>
<tr>
<th>Indicator</th>
<th>State</th>
<th>Definition</th>
<th>Integration Risk</th>
</tr>
</thead>
<tbody>
<tr>
<td>âœ…</td>
<td><strong>Current (Production)</strong></td>
<td>Live in production as of Dec 2025</td>
<td>Low - ready for pilot</td>
</tr>
<tr>
<td>ğŸ”„</td>
<td><strong>In Flight (Tactical)</strong></td>
<td>Code-complete or in development, target Feb 2026</td>
<td>Medium - validate before contract</td>
</tr>
<tr>
<td>ğŸ“‹</td>
<td><strong>Planned (Phase 1+)</strong></td>
<td>Roadmap item, not yet developed, Jul 2026+</td>
<td>High - budget for delays</td>
</tr>
</tbody>
</table>
<h3 id="state-at-a-glance-matrix">State-at-a-Glance Matrix</h3>
<table>
<thead>
<tr>
<th>Component</th>
<th>Current State</th>
<th>Tactical (Feb 2026)</th>
<th>Phase 1 (Jul 2026)</th>
<th>Phase 2 (Dec 2026)</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Crisis Detection</strong></td>
<td>âœ… 100% recall, k-NN</td>
<td>âœ… Same</td>
<td>ğŸ”„ Ensemble voting</td>
<td>ğŸ”„ Multi-modal</td>
<td><a href="#14-three-stage-detection-architecture">Â§1.4</a></td>
</tr>
<tr>
<td><strong>LLM Inference</strong></td>
<td>âœ… Qwen 7B cloud</td>
<td>âœ… Same</td>
<td>ğŸ”„ 3B quantized edge</td>
<td>ğŸ”„ Edge-first</td>
<td><a href="#21-current-stack">Â§2.1</a></td>
</tr>
<tr>
<td><strong>Deployment</strong></td>
<td>âœ… Cloud-only</td>
<td>âœ… Same</td>
<td>ğŸ”„ 90% Edge</td>
<td>ğŸ“‹ 95% Edge</td>
<td><a href="#51-edge-first-architecture">Â§5.1</a></td>
</tr>
<tr>
<td><strong>Voice Pipeline</strong></td>
<td>âœ… Whisper + Piper</td>
<td>ğŸ”„ + Emotion detection</td>
<td>ğŸ”„ Moonshine STT</td>
<td>ğŸ“‹ Empathic TTS</td>
<td><a href="#b6-voice-pipeline">App B.6</a></td>
</tr>
<tr>
<td><strong>RAG</strong></td>
<td>âœ… Semantic-weighted</td>
<td>ğŸ”„ Emotion-weighted</td>
<td>ğŸ”„ CPM integration</td>
<td>ğŸ“‹ Trajectory-aware</td>
<td><a href="#74-affective-ai-innovation-roadmap">Â§7.4</a></td>
</tr>
<tr>
<td><strong>NLU</strong></td>
<td>âœ… Intent-first</td>
<td>ğŸ”„ Entity extraction</td>
<td>ğŸ”„ Entity-first routing</td>
<td>ğŸ“‹ Memorial context</td>
<td><a href="#75-nlu-architecture-evolution">Â§7.5</a></td>
</tr>
<tr>
<td><strong>Clinical Validation</strong></td>
<td>âœ… Internal QA</td>
<td>ğŸ”„ Retrospective n=50</td>
<td>ğŸ”„ Pilot n=20</td>
<td>ğŸ“‹ Prospective n=100</td>
<td><a href="#76-clinical-validation--fda-pathway">Â§7.6</a></td>
</tr>
<tr>
<td><strong>FDA Status</strong></td>
<td>âœ… Pre-regulatory</td>
<td>ğŸ“‹ ISO 13485 prep</td>
<td>ğŸ“‹ Pre-submission</td>
<td>ğŸ“‹ De Novo filing</td>
<td><a href="#76-clinical-validation--fda-pathway">Â§7.6</a></td>
</tr>
<tr>
<td><strong>Training Infrastructure</strong></td>
<td>âŒ Not started</td>
<td>ğŸ”„ A/B Testing</td>
<td>ğŸ”„ LoRA/DPO</td>
<td>ğŸ“‹ Full MLOps</td>
<td><a href="#appendix-h-ml-training-infrastructure">App H</a></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>CTO Decision Point:</strong> Components marked âœ… are ready for pilot deployment. Components marked ğŸ”„ should be validated before contract commitment. Components marked ğŸ“‹ represent roadmap risk. Click "Details" links for in-depth coverage.</p>
</blockquote>
<p><a name="top"></a></p>
<h3 id="table-of-contents">Table of Contents</h3>
<p><strong>Main Sections</strong></p>
<ul>
<li><a href="#introduction-the-challenge-we-address">Introduction: The Challenge We Address</a> â€” Market problem, document roadmap, temporal states</li>
<li><a href="#1-safety-first-pipeline-critical-differentiator">Safety-First Pipeline</a> â€” Crisis detection, deterministic guardrails</li>
<li><a href="#13-crisis-severity-classification">1.3 Crisis Severity Classification</a> | <a href="#14-three-stage-detection-architecture">1.4 Three-Stage Detection</a> | <a href="#15-ensemble-detection-evolution-tactical--phase-2">1.5 Ensemble Evolution</a></li>
<li><a href="#2-technology-stack-current-state">Technology Stack (Current State)</a> â€” Production infrastructure, models, services</li>
<li><a href="#21-current-stack">2.1 Current Stack</a> | <a href="#22-service-architecture">2.2 Service Architecture</a> | <a href="#23-performance-baselines">2.3 Performance Baselines</a></li>
<li><a href="#3-healthcare-compliance-architecture">Healthcare Compliance</a> â€” HIPAA, privacy, emergency contacts [CURRENT]</li>
<li><a href="#4-key-performance-metrics">Key Performance Metrics</a> â€” Production metrics, engagement, payer value</li>
<li><a href="#41-production-metrics-current-state">4.1 Production Metrics</a> | <a href="#42-clinical-evidence-base">4.2 Clinical Evidence</a> | <a href="#43-engagement--satisfaction-metrics">4.3 Engagement</a> | <a href="#44-payer-value-demonstration">4.4 Payer Value</a></li>
<li><a href="#5-enterprise-scaling--deployment">Enterprise Scaling</a> â€” Edge architecture, deployment tiers</li>
<li><a href="#51-edge-first-architecture">5.1 Edge-First Architecture</a> | <a href="#52-deployment-tiers">5.2 Deployment Tiers</a></li>
<li><a href="#6-technical-operations--readiness">Technical Operations &amp; Readiness</a> â€” Scalability, DR, Integration, Security</li>
<li><a href="#61-scalability--capacity-planning">6.1 Scalability</a> | <a href="#62-disaster-recovery--business-continuity">6.2 Disaster Recovery</a> | <a href="#63-integration-architecture">6.3 Integration</a></li>
<li><a href="#64-security--threat-model">6.4 Security</a> | <a href="#65-technical-debt-register">6.5 Technical Debt</a></li>
<li><a href="#7-future-state--vision-2025-2027">Future State &amp; Vision</a> â€” 2-year roadmap, Affective AI, NLU evolution, FDA pathway</li>
<li><a href="#72-key-metrics-evolution">7.2 Key Metrics Evolution</a> | <a href="#74-affective-ai-innovation-roadmap">7.4 Affective AI</a> | <a href="#75-nlu-architecture-evolution">7.5 NLU Evolution</a> | <a href="#76-clinical-validation--fda-pathway">7.6 FDA Pathway</a></li>
<li><a href="#78-investment-summary">7.8 Investment Summary</a> | <a href="#710-international-expansion-roadmap">7.10 International</a></li>
<li><a href="#8-competitive-differentiation">Competitive Differentiation</a> â€” Comparison with alternatives [CURRENT]</li>
<li><a href="#9-risk-mitigation--governance">Risk Mitigation</a> â€” Failure handling, liability, governance [CURRENT + RISKS]</li>
<li><a href="#911-ai-infrastructure-risks-training-pipeline">9.1.1 AI Infrastructure Risks</a> | <a href="#92-failure-mode-handling">9.2 Failure Modes</a> | <a href="#93-human-in-the-loop-protocols">9.3 Human-in-Loop</a></li>
</ul>
<p><strong>Technical Appendices</strong></p>
<ul>
<li><a href="#appendix-a-system-architecture">A: System Architecture</a> â€” Design principles, service topology</li>
<li><a href="#appendix-b-aiml-stack-deep-dive">B: AI/ML Stack</a> â€” Models, RAG, classification, voice</li>
<li><a href="#appendix-c-polyglot-architecture">C: Polyglot Architecture</a> â€” Go + Python rationale</li>
<li><a href="#appendix-d-mlops--production-operations">D: MLOps</a> â€” Observability, lifecycle management</li>
<li><a href="#appendix-e-configuration--hot-reload">E: Configuration</a> â€” Hot-reload, parameters</li>
<li><a href="#appendix-f-repository--documentation">F: Repository</a> â€” Documentation links</li>
<li><a href="#appendix-g-contact-information">G: Contact</a> â€” Contact details</li>
<li><a href="#appendix-h-ml-training-infrastructure">H: ML Training Infrastructure</a> â€” Training pipeline details</li>
<li><a href="#appendix-i-api-contracts--data-model">I: API Contracts &amp; Data Model</a> â€” <strong>NEW</strong> OpenAPI specs, FHIR mappings</li>
<li><a href="#appendix-j-security--threat-model">J: Security &amp; Threat Model</a> â€” <strong>NEW</strong> STRIDE analysis, penetration testing</li>
<li><a href="#appendix-k-performance-benchmarking">K: Performance Benchmarking</a> â€” <strong>NEW</strong> Test methodology, baselines</li>
<li><a href="#appendix-l-oss-governance--vendor-risk">L: OSS Governance &amp; Vendor Risk</a> â€” <strong>NEW</strong> Licensing, exit strategies</li>
</ul>
<p><strong>Quick Navigation by Role:</strong></p>
<table>
<thead>
<tr>
<th>If you need...</th>
<th>Go to...</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Safety architecture</strong></td>
<td><a href="#1-safety-first-pipeline-critical-differentiator">Section 1</a> (Crisis detection, guardrails)</td>
</tr>
<tr>
<td><strong>Current technology stack</strong></td>
<td><a href="#2-technology-stack-current-state">Section 2</a> (Models, services, infrastructure)</td>
</tr>
<tr>
<td><strong>Compliance overview</strong></td>
<td><a href="#3-healthcare-compliance-architecture">Section 3</a> (HIPAA, privacy)</td>
</tr>
<tr>
<td><strong>Performance metrics</strong></td>
<td><a href="#4-key-performance-metrics">Section 4</a> (Production, Clinical, Engagement)</td>
</tr>
<tr>
<td><strong>Deployment architecture</strong></td>
<td><a href="#5-enterprise-scaling--deployment">Section 5</a> (Edge-first, Tiers, Multi-tenancy)</td>
</tr>
<tr>
<td><strong>Operations readiness</strong></td>
<td><a href="#6-technical-operations--readiness">Section 6</a> (Scalability, DR, Integration, Security)</td>
</tr>
<tr>
<td><strong>Roadmap &amp; FDA pathway</strong></td>
<td><a href="#7-future-state--vision-2025-2027">Section 7</a> â†’ <a href="#76-clinical-validation--fda-pathway">7.6 FDA</a></td>
</tr>
<tr>
<td><strong>Investment planning</strong></td>
<td><a href="#78-investment-summary">7.8 Investment Summary</a></td>
</tr>
<tr>
<td><strong>Competitive analysis</strong></td>
<td><a href="#8-competitive-differentiation">Section 8</a> (Comparison with alternatives)</td>
</tr>
<tr>
<td><strong>Risk &amp; governance</strong></td>
<td><a href="#9-risk-mitigation--governance">Section 9</a> (Failure handling, liability)</td>
</tr>
<tr>
<td><strong>Security &amp; threat model</strong></td>
<td><a href="#64-security--threat-model">6.4 Security</a> â†’ <a href="#appendix-j-security--threat-model">Appendix J</a></td>
</tr>
<tr>
<td><strong>API contracts &amp; integration</strong></td>
<td><a href="#appendix-i-api-contracts--data-model">Appendix I</a> (REST, WebSocket, FHIR)</td>
</tr>
<tr>
<td><strong>Technical deep-dive</strong></td>
<td><a href="#appendix-b-aiml-stack-deep-dive">Appendix B</a> â†’ <a href="#appendix-h-ml-training-infrastructure">Appendix H</a></td>
</tr>
</tbody>
</table>
<hr />
<h2 id="introduction-the-challenge-we-address">Introduction: The Challenge We Address</h2>
<h3 id="the-elderly-mental-health-crisis">The Elderly Mental Health Crisis</h3>
<p>The United States faces an unprecedented mental health crisis in senior living facilities:</p>
<table>
<thead>
<tr>
<th>Challenge</th>
<th>Scale</th>
<th>Impact</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Depression in Assisted Living</strong></td>
<td>25-50% prevalence</td>
<td>Leading cause of reduced quality of life</td>
</tr>
<tr>
<td><strong>Caregiver Shortage</strong></td>
<td>7.4M deficit by 2030</td>
<td>Staff cannot provide 1:1 mental health support</td>
</tr>
<tr>
<td><strong>Crisis Response Time</strong></td>
<td>4-8 hours average</td>
<td>Delayed intervention increases hospitalization risk</td>
</tr>
<tr>
<td><strong>Loneliness Epidemic</strong></td>
<td>43% of seniors</td>
<td>Linked to 26% increased mortality risk</td>
</tr>
</tbody>
</table>
<h3 id="why-current-solutions-fall-short">Why Current Solutions Fall Short</h3>
<table>
<thead>
<tr>
<th>Approach</th>
<th>Limitation</th>
<th>Risk</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Generic Chatbots</strong> (GPT, Claude)</td>
<td>No crisis detection, no HIPAA compliance</td>
<td>Unsafe for vulnerable populations</td>
</tr>
<tr>
<td><strong>Consumer Companions</strong> (ElliQ)</td>
<td>Engagement-focused, limited clinical depth</td>
<td>Misses therapeutic opportunities</td>
</tr>
<tr>
<td><strong>Digital Therapeutics</strong> (Woebot)</td>
<td>Requires active participation, text-only</td>
<td>Inaccessible for elderly with motor/vision limitations</td>
</tr>
<tr>
<td><strong>Traditional Care</strong></td>
<td>1:1 staffing impossible at scale</td>
<td>Unsustainable economics</td>
</tr>
</tbody>
</table>
<p><strong>Lilo Engine addresses these gaps</strong> with a voice-first, safety-enforced, clinically-grounded therapeutic AI platform designed specifically for elderly care settings.</p>
<h3 id="how-this-document-is-organized">How This Document is Organized</h3>
<p>This brief tells the story of Lilo Engine in three parts:</p>
<pre style="font-family: monospace; line-height: 1.4;">
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         DOCUMENT STORY ARC                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   THE FOUNDATION                        THE PROOF                           â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚   â”‚ <a href="#1-safety-first-pipeline-critical-differentiator">1. Safety Pipeline</a>   â”‚             â”‚<a href="#4-key-performance-metrics">4. Performance Metrics</a>â”‚             â”‚
â”‚   â”‚ <a href="#2-technology-stack-current-state">2. Technology Stack</a>  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º  â”‚<a href="#5-enterprise-scaling--deployment">5. Enterprise Scale</a>   â”‚             â”‚
â”‚   â”‚ <a href="#3-healthcare-compliance-architecture-current">3. Compliance</a>        â”‚  "Does it   â”‚ <a href="#6-technical-operations--readiness">6. Operations</a>        â”‚             â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   work?"    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚           â”‚                                       â”‚                         â”‚
â”‚           â”‚ [CURRENT STATE]                       â”‚ [VALIDATED]             â”‚
â”‚           â–¼                                       â–¼                         â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚                    <a href="#7-future-state--vision-2025-2027">7. FUTURE STATE & VISION</a>                         â”‚   â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚   â”‚
â”‚   â”‚  â”‚  TACTICAL   â”‚   â”‚  STRATEGIC  â”‚   â”‚  POST-2027  â”‚                â”‚   â”‚
â”‚   â”‚  â”‚ Feb-Jul '26 â”‚   â”‚ Aug '26-'27 â”‚   â”‚   Vision    â”‚                â”‚   â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚           â”‚                                                                 â”‚
â”‚           â–¼                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚   â”‚ <a href="#8-competitive-differentiation-current">8. Competitive</a>       â”‚   â”‚ <a href="#9-risk-mitigation--governance-current--roadmap-risks">9. Risk Mitigation</a>   â”‚                       â”‚
â”‚   â”‚    "Why us?"         â”‚   â”‚    "What could fail?"â”‚                       â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</pre>

<h3 id="understanding-temporal-states">Understanding Temporal States</h3>
<p>This document covers current production, in-flight development, and planned capabilities. Use these markers to assess implementation risk:</p>
<table>
<thead>
<tr>
<th>Marker</th>
<th>State</th>
<th>Timeline</th>
<th>Risk Level</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>[CURRENT]</strong></td>
<td>Production</td>
<td>Dec 2025</td>
<td>Low - ready for pilot</td>
</tr>
<tr>
<td><strong>[TACTICAL]</strong></td>
<td>In development</td>
<td>Feb-Jul 2026</td>
<td>Medium - validate before contract</td>
</tr>
<tr>
<td><strong>[STRATEGIC]</strong></td>
<td>Planned</td>
<td>Aug 2026-Dec 2027</td>
<td>High - budget for delays</td>
</tr>
<tr>
<td><strong>[POST-2027]</strong></td>
<td>Vision</td>
<td>2028+</td>
<td>Speculative - directional only</td>
</tr>
</tbody>
</table>
<p><strong>Reading Guide:</strong>
- <strong>For executives (45 min):</strong> Sections 1-9 provide the complete story
- <strong>For technical due diligence (+45 min):</strong> Appendices A-L provide deep dives
- <strong>For procurement:</strong> Focus on [CURRENT] markers for contract-ready capabilities</p>
<hr />
<h2 id="1-safety-first-pipeline-critical-differentiator">1. Safety-First Pipeline (Critical Differentiator)</h2>
<blockquote>
<p><strong>Why Start With Safety?</strong></p>
<p>In therapeutic AI for vulnerable populations, safety isn't a featureâ€”it's the foundation everything else builds on. A single missed crisis in elderly care can be fatal. Before exploring what Lilo can do, this section explains the architectural mandate that makes it trustworthy.</p>
<p><strong>What You'll Learn:</strong>
- Why probabilistic AI requires deterministic guardrails [CURRENT]
- How 100% crisis recall is achieved architecturally [CURRENT]
- The three-stage detection system [CURRENT]
- Evolution to ensemble detection [TACTICAL â†’ STRATEGIC]</p>
</blockquote>
<p><strong>The Architectural Mandate:</strong></p>
<blockquote>
<p><strong>Every single user message passes through crisis detection BEFORE any other processing.</strong></p>
<p>This is not configurable. This is not optional. This is architectural enforcement.</p>
</blockquote>
<h3 id="11-the-architectural-mandate-current">1.1 The Architectural Mandate [CURRENT]</h3>
<p><img src="5.png" alt="Safety Pipeline" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<h3 id="12-why-deterministic-guardrails-for-probabilistic-ai-current">1.2 Why Deterministic Guardrails for Probabilistic AI [CURRENT]</h3>
<p><strong>The Problem:</strong> LLMs are inherently probabilistic. They can generate harmful content unpredictably.</p>
<p><strong>The Solution:</strong> Wrap the probabilistic component in a deterministic state machine.</p>
<blockquote>
<p><strong>Design Decision Context:</strong>
We evaluated pure-LLM approaches (prompt engineering, RLHF safety training) but found 0.5-2% failure rates unacceptable for healthcare. In elderly care settings, a single missed crisis can be fatal. The only responsible approach is architectural enforcementâ€”deterministic guardrails that catch 100% of crisis signals regardless of LLM behavior.</p>
</blockquote>
<p><img src="6.png" alt="Deterministic Guardrails" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<h3 id="13-crisis-severity-classification-current">1.3 Crisis Severity Classification [CURRENT]</h3>
<table>
<thead>
<tr>
<th style="text-align: left;">Level</th>
<th style="text-align: left;">Response Time</th>
<th style="text-align: left;">Example Triggers</th>
<th style="text-align: left;">Automated Actions</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">ğŸ”´ <strong>IMMEDIATE</strong></td>
<td style="text-align: left;">&lt;30 seconds</td>
<td style="text-align: left;">Active suicidal ideation, self-harm in progress</td>
<td style="text-align: left;">911 escalation, all staff alert, family notification, C-SSRS assessment</td>
</tr>
<tr>
<td style="text-align: left;">ğŸŸ  <strong>URGENT</strong></td>
<td style="text-align: left;">&lt;5 minutes</td>
<td style="text-align: left;">Passive suicidal ideation, severe distress</td>
<td style="text-align: left;">Physician notification, nursing alert, enhanced monitoring</td>
</tr>
<tr>
<td style="text-align: left;">ğŸŸ¡ <strong>ELEVATED</strong></td>
<td style="text-align: left;">&lt;1 hour</td>
<td style="text-align: left;">Hopelessness expressions, significant mood decline</td>
<td style="text-align: left;">Social worker referral, care plan review</td>
</tr>
<tr>
<td style="text-align: left;">ğŸŸ¢ <strong>MODERATE</strong></td>
<td style="text-align: left;">&lt;24 hours</td>
<td style="text-align: left;">Mild distress, loneliness patterns</td>
<td style="text-align: left;">Routine monitoring, activity suggestions</td>
</tr>
</tbody>
</table>
<h3 id="14-three-stage-detection-architecture-current">1.4 Three-Stage Detection Architecture [CURRENT]</h3>
<p>The crisis detection system uses a three-stage approach combining semantic analysis, clinical context, and trajectory monitoring. <em>(See <a href="#b1-crisis-detection-deep-dive">Appendix B.1</a> for technical details)</em></p>
<p><img src="7.png" alt="Three-Stage Crisis Detection" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<h3 id="15-ensemble-detection-evolution-tactical-phase-2">1.5 Ensemble Detection Evolution (Tactical â†’ Phase 2)</h3>
<blockquote>
<p><strong>Current State (V4):</strong> Single BGE semantic detector with 871 training scenarios.
<strong>Future State (Phase 2):</strong> Ensemble 3-method voting with multi-modal fusion.</p>
</blockquote>
<table>
<thead>
<tr>
<th>Detection Method</th>
<th>Current</th>
<th>Tactical (Feb 2026)</th>
<th>Phase 2 (Dec 2026)</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Semantic (BGE)</strong></td>
<td>âœ… Primary</td>
<td>âœ… Enhanced (1,500+ scenarios)</td>
<td>âœ… With attention weights</td>
</tr>
<tr>
<td><strong>Keyword/Rule</strong></td>
<td>âœ… Fallback</td>
<td>âœ… Expanded lexicon</td>
<td>âœ… Context-aware rules</td>
</tr>
<tr>
<td><strong>ML Classifier</strong></td>
<td>âŒ Not used</td>
<td>âœ… Added (voting member)</td>
<td>âœ… Cross-encoder reranking</td>
</tr>
<tr>
<td><strong>Audio Fusion</strong></td>
<td>âŒ Not used</td>
<td>ğŸ“‹ Prototype</td>
<td>âœ… Voice + text cross-attention</td>
</tr>
<tr>
<td><strong>Ensemble Voting</strong></td>
<td>âŒ N/A</td>
<td>âœ… 2/3 majority</td>
<td>âœ… Weighted consensus</td>
</tr>
<tr>
<td><strong>Explainability</strong></td>
<td>âš ï¸ Limited</td>
<td>âœ… Reasoning traces</td>
<td>âœ… SHAP-style attribution</td>
</tr>
</tbody>
</table>
<p><strong>Multi-Modal Fusion:</strong>
- Detects "masked depression" when text is neutral but voice shows distress
- Flags modality conflicts for human review
- Provides robust detection when one modality is unavailable</p>
<p><strong>Performance Targets:</strong></p>
<table>
<thead>
<tr>
<th>Metric</th>
<th>Current</th>
<th>Phase 2 Target</th>
</tr>
</thead>
<tbody>
<tr>
<td>Crisis Recall</td>
<td>100%</td>
<td>100% (maintained)</td>
</tr>
<tr>
<td>False Positive Rate</td>
<td>&lt;5%</td>
<td>&lt;2%</td>
</tr>
<tr>
<td>Detection Latency</td>
<td>&lt;1s</td>
<td>&lt;500ms (edge)</td>
</tr>
<tr>
<td>Explainability Score</td>
<td>N/A</td>
<td>&gt;0.8 confidence with reasoning</td>
</tr>
</tbody>
</table>
<p><em>Complete technical implementation detailsâ€”including k-NN architecture, ensemble voting mechanisms, and multi-modal fusion specificationsâ€”are provided in <a href="#b1-crisis-detection-deep-dive">Appendix B.1</a>. For production safety metrics, see <a href="#41-production-metrics-current-state">Section 4.1</a>.</em></p>
<p><a href="#top">â†‘ Back to Top</a> | <a href="#2-technology-stack-current-state">â†’ Next: Technology Stack</a></p>
<hr />
<h2 id="2-technology-stack-current-state">2. Technology Stack (Current State)</h2>
<blockquote>
<p><strong>From Safety Requirements to Technology Choices</strong></p>
<p>Section 1 established non-negotiable safety requirements: &lt;1s crisis detection, 100% recall, HIPAA compliance. This section shows how those requirements drove specific technology selectionsâ€”and establishes what exists in production today.</p>
<p><strong>What You'll Learn:</strong>
- The current production stack (14 Docker + 1 Host services) [CURRENT]
- Why each technology was selected [CURRENT]
- Performance baselines proving the stack works [CURRENT]</p>
</blockquote>
<h3 id="21-current-stack">2.1 Current Stack</h3>
<p><img src="48.png" alt="EHR Integration Architecture" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<table>
<thead>
<tr>
<th>Layer</th>
<th>Technology</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>LLM</strong></td>
<td>Qwen 2.5-7B</td>
<td>Therapeutic response generation</td>
</tr>
<tr>
<td><strong>Inference</strong></td>
<td>llama.cpp + Metal</td>
<td>GPU-accelerated, on-premise</td>
</tr>
<tr>
<td><strong>Embeddings</strong></td>
<td>BGE-base-en-v1.5</td>
<td>Semantic search (768-dim)</td>
</tr>
<tr>
<td><strong>Voice</strong></td>
<td>Whisper + Piper</td>
<td>Speech-to-text, text-to-speech</td>
</tr>
<tr>
<td><strong>Database</strong></td>
<td>PostgreSQL + pgvector</td>
<td>Unified data + vector storage</td>
</tr>
<tr>
<td><strong>Cache</strong></td>
<td>Redis</td>
<td>Sessions, embeddings, pub/sub</td>
</tr>
<tr>
<td><strong>Backend</strong></td>
<td>Python (AI) + Go (Business)</td>
<td>Right language per domain</td>
</tr>
<tr>
<td><strong>Monitoring</strong></td>
<td>Langfuse</td>
<td>HIPAA-compliant AI observability</td>
</tr>
<tr>
<td><strong>Orchestration</strong></td>
<td>Docker Compose</td>
<td>Kubernetes-ready</td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>Technology Selection Rationale:</strong></p>
<table>
<thead>
<tr>
<th>Decision</th>
<th>Alternatives Evaluated</th>
<th>Why This Choice</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Qwen 2.5-7B</strong></td>
<td>Llama 3, Mistral, GPT-4</td>
<td>Best therapeutic quality at edge-deployable size (7B fits in 14GB)</td>
</tr>
<tr>
<td><strong>llama.cpp</strong></td>
<td>vLLM, TensorRT</td>
<td>Apple Metal GPU compatibilityâ€”enables Mac Mini edge deployment without NVIDIA</td>
</tr>
<tr>
<td><strong>BGE embeddings</strong></td>
<td>OpenAI, Cohere</td>
<td>On-premise operation, no API dependency for crisis-critical path</td>
</tr>
<tr>
<td><strong>PostgreSQL + pgvector</strong></td>
<td>Pinecone, Weaviate</td>
<td>Single database for vectors + relational data, simpler operations</td>
</tr>
</tbody>
</table>
</blockquote>
<h3 id="22-service-architecture-current">2.2 Service Architecture [CURRENT]</h3>
<p><strong>Service Topology (14 Docker + 1 Host):</strong></p>
<p><img src="39.png" alt="Service Topology" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<blockquote>
<p><strong>Diagram Description:</strong> Shows three-tier service topology with client layer, service layer (AI, Business, Healthcare groups), and data layer. AI services run Python/FastAPI, business services run Go/Gin. Generation service runs on host (not containerized) for GPU acceleration. All services communicate through API Gateway with PostgreSQL and Redis as shared data stores.</p>
</blockquote>
<p>The platform comprises 14 containerized services plus 1 host-based GPU service:</p>
<table>
<thead>
<tr>
<th>Category</th>
<th>Services</th>
<th>Technology</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>AI Services</strong></td>
<td>Router, Embedding, Voice, Generation</td>
<td>Python/FastAPI</td>
</tr>
<tr>
<td><strong>Business Services</strong></td>
<td>Auth, WebSocket, Dashboards</td>
<td>Go/Gin</td>
</tr>
<tr>
<td><strong>Infrastructure</strong></td>
<td>PostgreSQL, Redis, API Gateway</td>
<td>Standard</td>
</tr>
<tr>
<td><strong>Healthcare</strong></td>
<td>Care Manager, Crisis Assessment, Family Portal</td>
<td>Go + Next.js</td>
</tr>
</tbody>
</table>
<h3 id="23-performance-baselines-current">2.3 Performance Baselines [CURRENT]</h3>
<table>
<thead>
<tr>
<th>Metric</th>
<th>Current Value</th>
<th>Target</th>
<th>Status</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Time to First Token (TTFT)</strong></td>
<td>~1.5s</td>
<td>&lt;1s</td>
<td>ğŸ”„ Optimizing</td>
</tr>
<tr>
<td><strong>Token Throughput</strong></td>
<td>42-85 tokens/s</td>
<td>60-100 tokens/s</td>
<td>âœ… Acceptable</td>
</tr>
<tr>
<td><strong>Total Response Time</strong></td>
<td>~7.6s (2 concurrent)</td>
<td>&lt;5s</td>
<td>ğŸ”„ Optimizing</td>
</tr>
<tr>
<td><strong>Memory Footprint</strong></td>
<td>14GB (7B model)</td>
<td>3GB (quantized)</td>
<td>ğŸ“‹ Phase 1</td>
</tr>
<tr>
<td><strong>Crisis Detection</strong></td>
<td>&lt;1s</td>
<td>&lt;500ms</td>
<td>âœ… Exceeds requirement</td>
</tr>
</tbody>
</table>
<p><em>See <a href="#73-performance-evolution-targets">Section 7.3</a> for evolution roadmap and <a href="#appendix-k-performance-benchmarking">Appendix K</a> for detailed benchmarks.</em></p>
<p><a href="#top">â†‘ Back to Top</a> | <a href="#1-safety-first-pipeline-critical-differentiator">â† Previous: Safety-First Pipeline</a> | <a href="#3-healthcare-compliance-architecture">â†’ Next: Healthcare Compliance</a></p>
<hr />
<h2 id="3-healthcare-compliance-architecture-current">3. Healthcare Compliance Architecture [CURRENT]</h2>
<blockquote>
<p><strong>Why Compliance is Architecture, Not Checkbox</strong></p>
<p>With the technology stack established (Section 2), this section addresses healthcare regulatory requirements. Unlike compliance-as-afterthought approaches, Lilo treats HIPAA and privacy as architectural principlesâ€”not checklists to complete before launch.</p>
<p><strong>What You'll Learn:</strong>
- HIPAA technical safeguards built into the platform [CURRENT]
- Privacy-by-design data handling [CURRENT]
- Emergency contact coordination for crisis response [CURRENT]</p>
</blockquote>
<h3 id="31-hipaa-technical-safeguards-current">3.1 HIPAA Technical Safeguards [CURRENT]</h3>
<p>The platform implements comprehensive HIPAA safeguards across all data touchpoints:</p>
<p><img src="17.png" alt="HIPAA Safeguards" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<h3 id="32-privacy-security-architecture-current">3.2 Privacy &amp; Security Architecture [CURRENT]</h3>
<p><img src="18.png" alt="Privacy Security" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<h3 id="33-emergency-contact-system-current">3.3 Emergency Contact System [CURRENT]</h3>
<p>Crisis escalation integrates with 7 notification channels and 8 contact types:</p>
<table>
<thead>
<tr>
<th>Notification Channels</th>
<th>Contact Types</th>
</tr>
</thead>
<tbody>
<tr>
<td>Email, SMS, Phone, Secure Message</td>
<td>Physician, Nurse, Social Worker, Psychiatrist</td>
</tr>
<tr>
<td>Pager, In-App, PA System</td>
<td>Family, Legal Guardian, Facility Manager, Crisis Hotline</td>
</tr>
</tbody>
</table>
<p><strong>Architecture Strategy:</strong> Hybrid Build/Partner Approach</p>
<table>
<thead>
<tr>
<th>Component</th>
<th>Strategy</th>
<th>Rationale</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Orchestration</strong></td>
<td>Build in-house</td>
<td>Core differentiator: escalation logic, contact routing, SLA enforcement</td>
</tr>
<tr>
<td><strong>Delivery</strong></td>
<td>Partner (TigerConnect, Spok, or Twilio)</td>
<td>Proven deliverability, HIPAA BAAs, carrier relationships</td>
</tr>
</tbody>
</table>
<p>This hybrid approach ensures Lilo's core competency (AI-driven crisis detection and escalation logic) remains in-house while leveraging specialized partners for reliable message delivery across SMS, voice, paging, and secure messaging channels.</p>
<p><em>Crisis severity levels and response times defined in Section 1.3. Full technical details for C15: Emergency Notification System available upon request.</em></p>
<p><a href="#top">â†‘ Back to Top</a> | <a href="#2-technology-stack-current-state">â† Previous: Technology Stack</a> | <a href="#4-key-performance-metrics">â†’ Next: Key Performance Metrics</a></p>
<hr />
<h2 id="4-key-performance-metrics">4. Key Performance Metrics</h2>
<blockquote>
<p><strong>Proving the Foundation Works</strong></p>
<p>Sections 1-3 described the architecture: safety-first pipeline, technology stack, compliance framework. This section provides evidence that the approach worksâ€”with production metrics, clinical research, and engagement data.</p>
<p><strong>What You'll Learn:</strong>
- Production performance proving operational excellence [CURRENT]
- Clinical evidence base from peer-reviewed research [CURRENT]
- Engagement metrics that predict therapeutic outcomes [CURRENT]
- Payer value demonstration with ROI calculations [TACTICAL]</p>
</blockquote>
<h3 id="41-production-metrics-current-state">4.1 Production Metrics (Current State)</h3>
<p><img src="24.png" alt="Production Metrics" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<table>
<thead>
<tr>
<th>Category</th>
<th>Metric</th>
<th>Value</th>
<th>Target</th>
<th>Status</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Safety</strong></td>
<td>Crisis Detection Recall</td>
<td><strong>100%</strong></td>
<td>100%</td>
<td>âœ…</td>
</tr>
<tr>
<td><strong>Safety</strong></td>
<td>False Positive Rate</td>
<td><strong>&lt;5%</strong></td>
<td>&lt;5%</td>
<td>âœ…</td>
</tr>
<tr>
<td><strong>Safety</strong></td>
<td>Crisis Response Time</td>
<td><strong>&lt;1s</strong></td>
<td>&lt;30s (regulatory)</td>
<td>âœ…</td>
</tr>
<tr>
<td><strong>Quality</strong></td>
<td>Therapeutic Score</td>
<td><strong>89.7/100</strong></td>
<td>93.3/100</td>
<td>ğŸ”„ In Progress</td>
</tr>
<tr>
<td><strong>Performance</strong></td>
<td>Token Latency</td>
<td><strong>42-85ms/token</strong></td>
<td>&lt;100ms</td>
<td>âœ…</td>
</tr>
<tr>
<td><strong>Performance</strong></td>
<td>Voice TTFT</td>
<td><strong>50-150ms</strong></td>
<td>&lt;200ms</td>
<td>âœ…</td>
</tr>
<tr>
<td><strong>Performance</strong></td>
<td>RAG Retrieval</td>
<td><strong>150-250ms</strong></td>
<td>&lt;500ms</td>
<td>âœ…</td>
</tr>
<tr>
<td><strong>Reliability</strong></td>
<td>Platform Uptime</td>
<td><strong>99.97%</strong></td>
<td>99.9%</td>
<td>âœ…</td>
</tr>
<tr>
<td><strong>Reliability</strong></td>
<td>Cache Hit Rate</td>
<td><strong>60-80%</strong></td>
<td>50%+</td>
<td>âœ…</td>
</tr>
</tbody>
</table>
<h3 id="42-clinical-evidence-base-current">4.2 Clinical Evidence Base [CURRENT]</h3>
<p><img src="25.png" alt="Clinical Evidence Base" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<table>
<thead>
<tr>
<th>Therapeutic Approach</th>
<th>Evidence</th>
<th>Application in Lilo</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Behavioral Activation</strong></td>
<td>35% reduction in depression (PHQ-8/9)</td>
<td>Activity suggestions, engagement prompts</td>
</tr>
<tr>
<td><strong>Reminiscence Therapy</strong></td>
<td>â†“2 points UCLA-3 loneliness, â†“15% depression</td>
<td>Life story integration, memory exploration</td>
</tr>
<tr>
<td><strong>Grounding Techniques</strong></td>
<td>40-60% reduction in acute anxiety</td>
<td>Crisis de-escalation, calming exercises</td>
</tr>
</tbody>
</table>
<h3 id="43-engagement-satisfaction-metrics-current">4.3 Engagement &amp; Satisfaction Metrics [CURRENT]</h3>
<p><img src="26.png" alt="Engagement Metrics" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<blockquote>
<p><strong>Core Principle:</strong> Emotional engagement is the leading indicator of therapeutic success.</p>
</blockquote>
<table>
<thead>
<tr>
<th>Category</th>
<th>Metric</th>
<th>Target</th>
<th>Payer Value</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Adoption</strong></td>
<td>Daily Active Users (DAU)</td>
<td>&gt;70% of residents</td>
<td>Utilization proof</td>
</tr>
<tr>
<td><strong>Engagement</strong></td>
<td>Sessions per User/Day</td>
<td>2-3</td>
<td>Voluntary engagement</td>
</tr>
<tr>
<td><strong>Engagement</strong></td>
<td>Avg Session Duration</td>
<td>5-15 minutes</td>
<td>Meaningful interaction</td>
</tr>
<tr>
<td><strong>Engagement</strong></td>
<td>Messages per Session</td>
<td>8-15</td>
<td>Depth of engagement</td>
</tr>
<tr>
<td><strong>Satisfaction</strong></td>
<td>User-Initiated Conversations</td>
<td>&gt;60%</td>
<td>Intrinsic motivation</td>
</tr>
<tr>
<td><strong>Retention</strong></td>
<td>Next-Day Return Rate</td>
<td>&gt;70%</td>
<td>Stickiness</td>
</tr>
</tbody>
</table>
<h3 id="44-payer-value-demonstration-tactical">4.4 Payer Value Demonstration [TACTICAL]</h3>
<blockquote>
<p><strong>Context:</strong> As AI adoption in senior living accelerates in 2025, payers increasingly require demonstrable ROI metrics. The global AI-powered elderly care market is projected to reach USD 2.25B by 2030 (CAGR 9.73%), driven by staffing challenges and the need for scalable mental health support.</p>
</blockquote>
<p><img src="27.png" alt="Payer Value Demonstration" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<p><strong>Core Value Metrics:</strong></p>
<table>
<thead>
<tr>
<th>Metric Category</th>
<th>Metric</th>
<th>Calculation</th>
<th>Payer Benefit</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Utilization</strong></td>
<td>Engagement Rate</td>
<td>DAU / Total Residents</td>
<td>Service adoption proof</td>
</tr>
<tr>
<td><strong>Quality</strong></td>
<td>Therapeutic Success</td>
<td>% with clinical improvement</td>
<td>Outcome demonstration</td>
</tr>
<tr>
<td><strong>Cost Avoidance</strong></td>
<td>Crisis Prevention</td>
<td>Crises avoided vs. baseline</td>
<td>ER/hospitalization savings</td>
</tr>
<tr>
<td><strong>Efficiency</strong></td>
<td>Staff Time Saved</td>
<td>Minutes/resident/day</td>
<td>Labor cost reduction</td>
</tr>
<tr>
<td><strong>Satisfaction</strong></td>
<td>Resident NPS</td>
<td>Net Promoter Score</td>
<td>Quality of care indicator</td>
</tr>
</tbody>
</table>
<p><strong>HEDIS Measure Alignment:</strong></p>
<table>
<thead>
<tr>
<th>HEDIS Measure</th>
<th>Description</th>
<th>Lilo Alignment</th>
<th>Timeline</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>PDS</strong></td>
<td>Depression Screening</td>
<td>PHQ-9 administration tracking</td>
<td>Tactical</td>
</tr>
<tr>
<td><strong>DSF</strong></td>
<td>Depression Follow-Up</td>
<td>Post-elevated score engagement</td>
<td>Tactical</td>
</tr>
<tr>
<td><strong>AMM</strong></td>
<td>Antidepressant Medication Management</td>
<td>Medication reminder response rate</td>
<td>Phase 1</td>
</tr>
<tr>
<td><strong>FUH</strong></td>
<td>Follow-Up After Hospitalization</td>
<td>Session engagement post-discharge</td>
<td>Phase 2</td>
</tr>
</tbody>
</table>
<p><strong>ROI Projections by Phase:</strong></p>
<table>
<thead>
<tr>
<th>Metric</th>
<th>Phase 1 (Jul 2026)</th>
<th>Phase 2 (Dec 2026)</th>
<th>Phase 3 (2027)</th>
<th>Calculation Method</th>
</tr>
</thead>
<tbody>
<tr>
<td>Staff Time Saved</td>
<td>15 min/res/day</td>
<td>20 min/res/day</td>
<td>30 min/res/day</td>
<td>Time study</td>
</tr>
<tr>
<td>Crisis Prevention Rate</td>
<td>Baseline</td>
<td>+25%</td>
<td>+50%</td>
<td>ER visit reduction</td>
</tr>
<tr>
<td>Escalation Reduction</td>
<td>-20%</td>
<td>-35%</td>
<td>-50%</td>
<td>Human handoff tracking</td>
</tr>
<tr>
<td>Cost per Positive Outcome</td>
<td>Track</td>
<td>$800-1,200</td>
<td>$500-800</td>
<td>Total cost / improvements</td>
</tr>
</tbody>
</table>
<p><strong>ROI Framework:</strong></p>
<div class="codehilite"><pre><span></span><code>Annual Cost Savings = (Crisis Events Prevented Ã— Avg ER Cost) +
                      (Hospitalizations Avoided Ã— Avg Stay Cost) +
                      (Staff Hours Saved Ã— Hourly Rate)

Example (100-bed facility):
â€¢ Crisis prevention: 12 crises/year Ã— $2,500 avg ER cost = $30,000
â€¢ Hospitalization reduction: 4 avoided Ã— $15,000 avg stay = $60,000
â€¢ Staff efficiency: 20 min/res/day Ã— 100 residents Ã— $25/hr Ã— 365 = $304,167
â€¢ Total Annual Savings: ~$394,000
</code></pre></div>

<p><strong>Industry Context:</strong> Senior living facilities face critical staffing shortages with occupancy returning to pre-pandemic levels while staffing has not. AI-powered companions like Lilo address this gap by providing continuous mental health support, reducing caregiver burden, and enabling staff to focus on high-acuity care tasks.</p>
<p><em>Detailed payer reporting dashboard specifications available in internal documentation.</em></p>
<p><a href="#top">â†‘ Back to Top</a> | <a href="#3-healthcare-compliance-architecture">â† Previous: Healthcare Compliance</a> | <a href="#5-enterprise-scaling--deployment">â†’ Next: Enterprise Scaling</a></p>
<hr />
<h2 id="5-enterprise-scaling-deployment">5. Enterprise Scaling &amp; Deployment</h2>
<blockquote>
<p><strong>From Pilot to Enterprise Scale</strong></p>
<p>The metrics in Section 4 prove the platform works. This section addresses how it scales from a single facility pilot to nationwide deploymentâ€”and why edge-first architecture is the key to enterprise adoption.</p>
<p><strong>What You'll Learn:</strong>
- Why edge architecture matters for healthcare [STRATEGIC RATIONALE]
- Edge-first architecture (90% local, 10% cloud) [TACTICAL]
- Deployment tiers for different facility sizes [STRATEGIC]</p>
</blockquote>
<h3 id="51-edge-first-architecture-tactical-phase-1">5.1 Edge-First Architecture [TACTICAL â†’ PHASE 1]</h3>
<blockquote>
<p><strong>Timeline Clarification:</strong> Edge deployment is a <strong>Phase 1 (Jul 2026) deliverable</strong>. Current state is cloud-first (14 Docker + 1 Host). The architecture below represents the target state.</p>
<p><strong>Why Edge-First Architecture?</strong></p>
<p>Enterprise healthcare buyers face three constraints that cloud-only AI cannot satisfy:</p>
<table>
<thead>
<tr>
<th>Constraint</th>
<th>Cloud-Only Problem</th>
<th>Edge-First Solution</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Privacy</strong></td>
<td>PHI travels to cloud, increasing attack surface</td>
<td>90% of processing stays on-premise</td>
</tr>
<tr>
<td><strong>Latency</strong></td>
<td>Network round-trip adds 100-500ms</td>
<td>Sub-second voice response</td>
</tr>
<tr>
<td><strong>Cost</strong></td>
<td>Per-token pricing scales linearly</td>
<td>One-time hardware investment</td>
</tr>
</tbody>
</table>
<p><em>The strategic insight:</em> Edge-first transforms the business model from operating expense (cloud compute) to capital expense (facility hardware)â€”preferred by healthcare operators with 10-year budget horizons.</p>
</blockquote>
<p>The platform evolves from cloud-first to edge-first deployment:</p>
<table>
<thead>
<tr>
<th>State</th>
<th>Timeline</th>
<th>Architecture</th>
<th>Processing Split</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Current</strong></td>
<td>Dec 2025</td>
<td>Cloud-first</td>
<td>100% cloud</td>
</tr>
<tr>
<td><strong>Tactical</strong></td>
<td>Feb 2026</td>
<td>Cloud-optimized</td>
<td>100% cloud (faster)</td>
</tr>
<tr>
<td><strong>Phase 1</strong></td>
<td>Jul 2026</td>
<td>Edge-first</td>
<td>90% edge / 10% cloud</td>
</tr>
<tr>
<td><strong>Phase 2+</strong></td>
<td>Dec 2026+</td>
<td>Edge-mature</td>
<td>95% edge / 5% cloud</td>
</tr>
</tbody>
</table>
<p>The platform supports multiple deployment models optimized for privacy, latency, and cost:</p>
<p><img src="22.png" alt="Edge Architecture" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<h3 id="52-deployment-tiers-phase-1-phase-3">5.2 Deployment Tiers [PHASE 1 â†’ PHASE 3]</h3>
<p><img src="23.png" alt="Deployment Tiers" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<table>
<thead>
<tr>
<th>Tier</th>
<th>Target</th>
<th>Processing</th>
<th>Connectivity</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Facility Edge</strong></td>
<td>Assisted living facilities</td>
<td>90% on-device</td>
<td>Always-on broadband</td>
</tr>
<tr>
<td><strong>Premium At-Home</strong></td>
<td>High-acuity residents</td>
<td>80% on-device</td>
<td>Reliable home internet</td>
</tr>
<tr>
<td><strong>Standard At-Home</strong></td>
<td>General population</td>
<td>Regional cloud</td>
<td>Basic connectivity</td>
</tr>
<tr>
<td><strong>Hybrid</strong></td>
<td>Rural/variable connectivity</td>
<td>Adaptive</td>
<td>Intermittent</td>
</tr>
</tbody>
</table>
<h3 id="53-multi-tenancy-isolation-current">5.3 Multi-Tenancy &amp; Isolation [CURRENT]</h3>
<p>Each facility operates in complete data isolation with:
- Dedicated database schemas
- Separate encryption keys
- Independent audit trails
- Configurable retention policies</p>
<p><a href="#top">â†‘ Back to Top</a> | <a href="#4-key-performance-metrics">â† Previous: Performance Metrics</a> | <a href="#6-technical-operations--readiness">â†’ Next: Technical Operations</a></p>
<hr />
<h2 id="6-technical-operations-readiness">6. Technical Operations &amp; Readiness</h2>
<blockquote>
<p><strong>What It Takes to Operate</strong></p>
<p>Section 5 showed how the architecture scales. For enterprise procurement, CTOs need operational details: capacity planning, disaster recovery, integration points, and security posture. This section provides the technical due diligence material.</p>
<p><strong>What You'll Learn:</strong>
- Scalability limits and growth projections [CURRENT]
- Disaster recovery with RTO/RPO targets [CURRENT]
- EHR integration architecture (FHIR R4) [TACTICAL â†’ STRATEGIC]
- Security threat model and mitigations [CURRENT]
- Technical debt register with remediation timeline [CURRENT]</p>
</blockquote>
<h3 id="61-scalability-capacity-planning-current">6.1 Scalability &amp; Capacity Planning [CURRENT]</h3>
<p><strong>Horizontal Scaling Architecture:</strong></p>
<p><img src="40.png" alt="Horizontal Scaling Architecture" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<blockquote>
<p><strong>Diagram Description:</strong> Shows horizontal scaling architecture with load balancer distributing traffic across multiple identical instances. Each instance contains AI Router, WebSocket handler, and GPU resources. GPU memory (14GB) is identified as the primary bottleneck limiting to ~50 concurrent sessions per instance. All instances share PostgreSQL and Redis backends.</p>
</blockquote>
<p><strong>Current Production Capacity (Dec 2025):</strong></p>
<table>
<thead>
<tr>
<th>Metric</th>
<th>Current Capacity</th>
<th>Headroom</th>
<th>Bottleneck</th>
<th>Scaling Path</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Concurrent Sessions</strong></td>
<td>50 per instance</td>
<td>2x before degradation</td>
<td>GPU memory (14GB)</td>
<td>Horizontal scaling</td>
</tr>
<tr>
<td><strong>Residents per Cloud Instance</strong></td>
<td>~200</td>
<td>100%</td>
<td>WebSocket connections</td>
<td>Add instances</td>
</tr>
<tr>
<td><strong>Residents per Edge Node</strong></td>
<td>N/A (cloud-only)</td>
<td>TBD Phase 1</td>
<td>3GB model â†’ ~100 sessions</td>
<td>Hardware tier</td>
</tr>
<tr>
<td><strong>Database Growth</strong></td>
<td>~500 MB/month/facility</td>
<td>12 months at current</td>
<td>Chat history retention</td>
<td>Archival policy</td>
</tr>
<tr>
<td><strong>Peak Request Rate</strong></td>
<td>100 req/sec</td>
<td>5x</td>
<td>API Gateway</td>
<td>Load balancer</td>
</tr>
<tr>
<td><strong>Embedding Cache</strong></td>
<td>10,000 vectors</td>
<td>50% utilized</td>
<td>Redis memory</td>
<td>Eviction policy</td>
</tr>
</tbody>
</table>
<p><strong>Edge Deployment Projections (Phase 1):</strong></p>
<table>
<thead>
<tr>
<th>Hardware Tier</th>
<th>Max Concurrent</th>
<th>Residents Supported</th>
<th>Cost/Facility</th>
<th>Break-even vs Cloud</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Jetson Orin (8GB)</strong></td>
<td>20 sessions</td>
<td>~80-100 residents</td>
<td>$700 one-time</td>
<td>8 months</td>
</tr>
<tr>
<td><strong>Mac Mini M2 (8GB)</strong></td>
<td>15 sessions</td>
<td>~60-80 residents</td>
<td>$600 one-time</td>
<td>6 months</td>
</tr>
<tr>
<td><strong>Raspberry Pi 5 (8GB)</strong></td>
<td>5 sessions</td>
<td>~20-30 residents</td>
<td>$100 one-time</td>
<td>2 months</td>
</tr>
</tbody>
</table>
<h3 id="62-disaster-recovery-business-continuity-current">6.2 Disaster Recovery &amp; Business Continuity [CURRENT]</h3>
<p><strong>Disaster Recovery Architecture:</strong></p>
<p><img src="41.png" alt="Disaster Recovery Architecture" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<blockquote>
<p><strong>Diagram Description:</strong> Shows three-tier DR architecture with edge devices, primary cloud, and secondary cloud. Illustrates three failure scenarios: (1) Edge failure with cloud burst, (2) Primary cloud failure with DNS failover to secondary, (3) Complete outage with edge offline mode. Key metrics: Edge RTO 15min/RPO 0, Cloud RTO 4hr/RPO 1hr, 72-hour offline capability.</p>
</blockquote>
<p><strong>RTO/RPO Targets:</strong></p>
<table>
<thead>
<tr>
<th>Scenario</th>
<th>RTO</th>
<th>RPO</th>
<th>Recovery Method</th>
<th>Test Frequency</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Cloud Region Failure</strong></td>
<td>4 hours</td>
<td>1 hour</td>
<td>Failover to secondary region</td>
<td>Quarterly</td>
</tr>
<tr>
<td><strong>Edge Device Failure</strong></td>
<td>15 minutes</td>
<td>0 (real-time sync)</td>
<td>Cloud burst mode</td>
<td>Monthly</td>
</tr>
<tr>
<td><strong>Database Corruption</strong></td>
<td>2 hours</td>
<td>15 minutes</td>
<td>Point-in-time recovery (PITR)</td>
<td>Weekly backup test</td>
</tr>
<tr>
<td><strong>Model Rollback</strong></td>
<td>5 minutes</td>
<td>N/A</td>
<td>Container registry revert</td>
<td>Per deployment</td>
</tr>
<tr>
<td><strong>Complete Platform Failure</strong></td>
<td>8 hours</td>
<td>1 hour</td>
<td>Full restore from backup</td>
<td>Annually</td>
</tr>
</tbody>
</table>
<p><strong>Crisis-Specific DR Requirements:</strong></p>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Implementation</th>
<th>Verification</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Crisis detection during outage</strong></td>
<td>Local escalation database on edge</td>
<td>Integration test</td>
</tr>
<tr>
<td><strong>Emergency contact delivery</strong></td>
<td>Multi-provider failover (TigerConnect â†’ Twilio â†’ SMS)</td>
<td>Monthly test</td>
</tr>
<tr>
<td><strong>Audit trail preservation</strong></td>
<td>Write-ahead log with async sync</td>
<td>Continuous</td>
</tr>
<tr>
<td><strong>72-hour offline capability</strong></td>
<td>Edge device local storage</td>
<td>Chaos test</td>
</tr>
</tbody>
</table>
<h3 id="63-integration-architecture-tactical-strategic">6.3 Integration Architecture [TACTICAL â†’ STRATEGIC]</h3>
<p><strong>EHR Integration Architecture:</strong></p>
<p><img src="42.png" alt="EHR Integration Architecture" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<blockquote>
<p><strong>Diagram Description:</strong> Shows FHIR R4 integration layer connecting Lilo Engine to major EHR vendors (Epic, Cerner, Allscripts). Displays four FHIR resources (Patient, Observation, CareTeam, Flag) with their data directions. Shows certification status for each vendor and market share. Bottom section illustrates four integration patterns with their latency requirements.</p>
</blockquote>
<p><strong>FHIR R4 Integration:</strong></p>
<table>
<thead>
<tr>
<th>FHIR Resource</th>
<th>Direction</th>
<th>Supported Operations</th>
<th>Use Case</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Patient</strong></td>
<td>Read</td>
<td>GET, Search</td>
<td>Resident demographics</td>
</tr>
<tr>
<td><strong>Observation</strong></td>
<td>Read/Write</td>
<td>GET, POST</td>
<td>PHQ-9, GAD-7, vital signs</td>
</tr>
<tr>
<td><strong>CarePlan</strong></td>
<td>Read</td>
<td>GET</td>
<td>Care team, goals</td>
</tr>
<tr>
<td><strong>CareTeam</strong></td>
<td>Read</td>
<td>GET</td>
<td>Emergency contacts, staff</td>
</tr>
<tr>
<td><strong>Flag</strong></td>
<td>Write</td>
<td>POST</td>
<td>Crisis alerts</td>
</tr>
<tr>
<td><strong>Communication</strong></td>
<td>Write</td>
<td>POST</td>
<td>Therapeutic session summaries</td>
</tr>
</tbody>
</table>
<p><strong>EHR Vendor Compatibility:</strong></p>
<table>
<thead>
<tr>
<th>Vendor</th>
<th>Integration Status</th>
<th>Certification</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Epic</strong></td>
<td>ğŸ“‹ Planned</td>
<td>App Orchard pending</td>
<td>FHIR R4, CDS Hooks</td>
</tr>
<tr>
<td><strong>Cerner (Oracle Health)</strong></td>
<td>ğŸ“‹ Planned</td>
<td>Code Console pending</td>
<td>FHIR R4</td>
</tr>
<tr>
<td><strong>Allscripts</strong></td>
<td>ğŸ“‹ Future</td>
<td>Not started</td>
<td>FHIR R4</td>
</tr>
<tr>
<td><strong>MEDITECH</strong></td>
<td>ğŸ“‹ Future</td>
<td>Not started</td>
<td>HL7v2 fallback</td>
</tr>
</tbody>
</table>
<h3 id="64-security-threat-model-current">6.4 Security &amp; Threat Model [CURRENT]</h3>
<p><strong>STRIDE Threat Analysis (AI-Specific):</strong></p>
<table>
<thead>
<tr>
<th>Threat</th>
<th>Attack Vector</th>
<th>Mitigation</th>
<th>Status</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Spoofing</strong></td>
<td>Fake user identity</td>
<td>JWT + MFA, session binding</td>
<td>âœ… Implemented</td>
</tr>
<tr>
<td><strong>Tampering</strong></td>
<td>Model poisoning, prompt injection</td>
<td>Input validation, output filtering</td>
<td>âœ… Implemented</td>
</tr>
<tr>
<td><strong>Repudiation</strong></td>
<td>Deny crisis interaction</td>
<td>Immutable audit log, hash chain</td>
<td>âœ… Implemented</td>
</tr>
<tr>
<td><strong>Information Disclosure</strong></td>
<td>PHI in logs, model memorization</td>
<td>Zero-PHI logging, differential privacy</td>
<td>âœ… Implemented</td>
</tr>
<tr>
<td><strong>Denial of Service</strong></td>
<td>Resource exhaustion</td>
<td>Rate limiting, circuit breakers</td>
<td>âœ… Implemented</td>
</tr>
<tr>
<td><strong>Elevation of Privilege</strong></td>
<td>Admin access via AI</td>
<td>RBAC, no AI-initiated admin actions</td>
<td>âœ… Implemented</td>
</tr>
</tbody>
</table>
<p><em>See <a href="#appendix-j-security--threat-model">Appendix J</a> for detailed threat model and penetration test results.</em></p>
<h3 id="65-technical-debt-register-current">6.5 Technical Debt Register [CURRENT]</h3>
<table>
<thead>
<tr>
<th>Debt Item</th>
<th>Origin</th>
<th>Risk Level</th>
<th>Mitigation Strategy</th>
<th>Timeline</th>
<th>Owner</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Docker Compose â†’ K8s</strong></td>
<td>MVP speed</td>
<td>Medium</td>
<td>Container orchestration migration</td>
<td>Phase 1</td>
<td>Platform</td>
</tr>
<tr>
<td><strong>Manual Model Deployment</strong></td>
<td>No CI/CD for models</td>
<td>High</td>
<td>Build MLOps pipeline</td>
<td>Tactical</td>
<td>ML Eng</td>
</tr>
<tr>
<td><strong>Single-Region Cloud</strong></td>
<td>Cost optimization</td>
<td>High</td>
<td>Multi-region DR implementation</td>
<td>Phase 1</td>
<td>Platform</td>
</tr>
<tr>
<td><strong>Langfuse Dependency</strong></td>
<td>Observability maturity</td>
<td>Low</td>
<td>Multi-tool observability strategy</td>
<td>Ongoing</td>
<td>Platform</td>
</tr>
<tr>
<td><strong>Python/Go Polyglot</strong></td>
<td>Right-tool-per-job</td>
<td>Medium</td>
<td>Unified tracing (OpenTelemetry)</td>
<td>Phase 1</td>
<td>Platform</td>
</tr>
<tr>
<td><strong>No Automated Edge Updates</strong></td>
<td>Edge not deployed</td>
<td>High</td>
<td>OTA update system</td>
<td>Phase 1</td>
<td>Platform</td>
</tr>
<tr>
<td><strong>Manual Clinical Review</strong></td>
<td>Quality assurance</td>
<td>Medium</td>
<td>LLM-as-judge automation</td>
<td>Phase 2</td>
<td>ML Eng</td>
</tr>
</tbody>
</table>
<p><a href="#top">â†‘ Back to Top</a> | <a href="#5-enterprise-scaling--deployment">â† Previous: Enterprise Scaling</a> | <a href="#7-future-state--vision-2025-2027">â†’ Next: Future State &amp; Vision</a></p>
<hr />
<h2 id="7-future-state-vision-2025-2027">7. Future State &amp; Vision (2025-2027)</h2>
<blockquote>
<p><strong>The Journey From Therapeutic AI to FDA-Cleared Healthcare Platform</strong></p>
<p>Sections 1-6 established current capabilities and operational readiness. This section charts the 2-year transformation roadmapâ€”organized by timeline to clearly distinguish what's in development from what's planned.</p>
<p><strong>Temporal Organization:</strong>
- 7.1-7.3: Platform transformation and metrics evolution [OVERVIEW]
- 7.4-7.5: Affective AI and NLU capabilities [TACTICAL â†’ STRATEGIC]
- 7.6: Clinical validation and FDA pathway [TACTICAL â†’ STRATEGIC]
- 7.7-7.10: Investment, business projections, expansion [STRATEGIC]</p>
<p><strong>Why This Matters for Investment:</strong> FDA clearance opens Medicare reimbursement. Edge architecture reduces operating cost by 60-80%. EU expansion doubles the addressable market.</p>
</blockquote>
<h3 id="71-platform-transformation-overview">7.1 Platform Transformation [OVERVIEW]</h3>
<p>Lilo Engine transforms from a <strong>cloud-first therapeutic AI</strong> to an <strong>edge-first, FDA-cleared healthcare platform</strong> over a 2-year roadmap.</p>
<p><strong>Platform Transformation Journey:</strong></p>
<p><img src="49.png" alt="Key Metrics Evolution" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<p><em>Detailed transformation specifications and implementation timeline available in internal roadmap documentation.</em></p>
<h3 id="72-key-metrics-evolution-current-phase-3">7.2 Key Metrics Evolution [CURRENT â†’ PHASE 3]</h3>
<p><img src="29.png" alt="Key Metrics Evolution" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<table>
<thead>
<tr>
<th>Metric</th>
<th>Current</th>
<th>Tactical (Feb 2026)</th>
<th>Phase 1 (Jul 2026)</th>
<th>Phase 2 (Dec 2026)</th>
<th>Phase 3 (2027)</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Therapeutic Quality</strong></td>
<td>89.7/100</td>
<td>93.3/100</td>
<td>95/100</td>
<td>97/100</td>
<td>98/100</td>
</tr>
<tr>
<td><strong>Crisis Recall</strong></td>
<td>100%</td>
<td>100%</td>
<td>100%</td>
<td>100%</td>
<td>100%</td>
</tr>
<tr>
<td><strong>Edge Deployment</strong></td>
<td>0%</td>
<td>0%</td>
<td>90%</td>
<td>95%</td>
<td>98%</td>
</tr>
<tr>
<td><strong>Voice Latency</strong></td>
<td>50-150ms</td>
<td>&lt;100ms</td>
<td>&lt;50ms</td>
<td>&lt;30ms</td>
<td>&lt;20ms</td>
</tr>
</tbody>
</table>
<h3 id="721-ml-lifecycle-quality-gates-tactical-strategic">7.2.1 ML Lifecycle &amp; Quality Gates [TACTICAL â†’ STRATEGIC]</h3>
<blockquote>
<p><strong>Strategic Dependency:</strong> Achieving quality targets (89.7 â†’ 93.3 â†’ 97) and enabling edge deployment requires training infrastructure that does not yet exist. This is the primary technical risk for the roadmap.</p>
</blockquote>
<p><img src="30.png" alt="ML Lifecycle Quality Gates" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<p><em>See <a href="#appendix-h-ml-training-infrastructure">Appendix H</a> for technical implementation details.</em></p>
<h3 id="73-architecture-transformation-current-phase-3">7.3 Architecture Transformation [CURRENT â†’ PHASE 3]</h3>
<blockquote>
<p><strong>Summary:</strong> Key component evolution from current to 2027 state. <em>See <a href="#5-enterprise-scaling--deployment">Section 5</a> for edge deployment details, <a href="#2-technology-stack-current-state">Section 2</a> for model specifications.</em></p>
</blockquote>
<table>
<thead>
<tr>
<th>Component</th>
<th>Current â†’ Future (2027)</th>
<th>Benefit</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Deployment</strong></td>
<td>Cloud-only â†’ 90% Edge</td>
<td>Privacy, latency, cost</td>
</tr>
<tr>
<td><strong>LLM</strong></td>
<td>7B (14GB) â†’ 3B-Q4 (3GB)</td>
<td>Edge-compatible</td>
</tr>
<tr>
<td><strong>STT</strong></td>
<td>Whisper â†’ Moonshine</td>
<td>4x faster startup</td>
</tr>
<tr>
<td><strong>Classification</strong></td>
<td>Intent-first â†’ Entity-first</td>
<td>Safety-aware routing</td>
</tr>
<tr>
<td><strong>Engagement</strong></td>
<td>Reactive â†’ Proactive</td>
<td>AI-initiated care</td>
</tr>
</tbody>
</table>
<h3 id="74-affective-ai-innovation-roadmap-tactical-phase-2">7.4 Affective AI Innovation Roadmap [TACTICAL â†’ PHASE 2]</h3>
<blockquote>
<p><strong>Strategic Thesis:</strong> Moving from keyword-based therapeutic responses to emotion-aware, trajectory-optimized, proactive careâ€”a capability set worth $200M+ in the mental health AI market.</p>
</blockquote>
<p><img src="31.png" alt="Affective AI Innovation Roadmap" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<p><strong>Theoretical Foundation: Scherer's Component Process Model (CPM)</strong></p>
<p>Beyond basic Valence-Arousal-Dominance (VAD)â€”which only captures <em>what</em> emotion someone feelsâ€”Lilo implements Scherer's Component Process Model (CPM) from affective science to understand <em>why</em> they feel it. This appraisal-based approach enables therapeutic interventions that match the underlying cause of emotion, not just its expression.</p>
<p><strong>Why CPM Over Basic VAD?</strong></p>
<table>
<thead>
<tr>
<th>Approach</th>
<th>Captures</th>
<th>Limitation</th>
<th>Therapeutic Value</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>VAD (Valence-Arousal-Dominance)</strong></td>
<td>Is the user happy/sad? Calm/excited?</td>
<td>Same emotion (sad) from loneliness vs. grief treated identically</td>
<td>Low precision</td>
</tr>
<tr>
<td><strong>CPM (Appraisal Theory)</strong></td>
<td><em>Why</em> is the user sad? What caused it?</td>
<td>More complex to implement</td>
<td>High precisionâ€”matches intervention to cause</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Appraisal Variable</th>
<th>Question</th>
<th>Therapeutic Impact</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Goal Relevance</strong></td>
<td>Is this personally important?</td>
<td>Higher relevance = more engagement investment</td>
</tr>
<tr>
<td><strong>Goal Congruence</strong></td>
<td>Does this help or hinder goals?</td>
<td>Incongruence = intervention opportunity</td>
</tr>
<tr>
<td><strong>Coping Potential</strong></td>
<td>Can they handle this?</td>
<td>Low coping = supportive mode, High = challenge framing</td>
</tr>
<tr>
<td><strong>Agency</strong></td>
<td>Who caused this?</td>
<td>External = validation, Self = empowerment</td>
</tr>
</tbody>
</table>
<p><em>Example: User says "My daughter cancelled her visit." Basic emotion: Sad. CPM analysis: High relevance, low agency (external cause). Intervention: Validation-focused, not problem-solving.</em></p>
<p>The platform evolves through four Affective AI enhancements that transform therapeutic effectiveness:</p>
<table>
<thead>
<tr>
<th>Enhancement</th>
<th>Description</th>
<th>Timeline</th>
<th>Impact</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Emotion-Weighted RAG</strong></td>
<td>Retrieval prioritizes emotionally-relevant content using CPM appraisal variables; matches coping potential, not just valence</td>
<td>Tactical (Feb 2026)</td>
<td>+11.76% engagement (research-validated)</td>
</tr>
<tr>
<td><strong>Trajectory Optimization</strong></td>
<td>Models <strong>Affect Flow</strong>â€”treating emotion as a trajectory with velocity (rate of change) and acceleration (change in rate). Distinguishes sudden shock (high velocity) from gradual frustration buildup (low velocity, sustained direction)</td>
<td>Phase 1 (Jul 2026)</td>
<td>Early intervention, reduced crises</td>
</tr>
<tr>
<td><strong>Multi-Modal Emotion Fusion</strong></td>
<td><strong>Cross-Attention Transformers</strong> (Audio-Video Transformer with Cross-Attention) fuse voice + text modalities. <strong>Dual-Stream MoE</strong> (Mixture of Experts) routes simple emotions to lightweight models, complex emotions to deep modelsâ€”enabling edge deployment without quality loss</td>
<td>Phase 2 (Dec 2026)</td>
<td>81% accuracy, robust when modalities conflict</td>
</tr>
<tr>
<td><strong>Serendipity Engine</strong></td>
<td>Introduces therapeutic variety; prevents filter bubbles; applies behavioral psychology</td>
<td>Phase 2 (Dec 2026)</td>
<td>Prevents engagement fatigue</td>
</tr>
</tbody>
</table>
<p><strong>Emotion-Weighted Retrieval Rules:</strong></p>
<p>When retrieving content for responses, the system adjusts relevance scores based on the user's detected emotional state:</p>
<table>
<thead>
<tr>
<th>User Emotional State</th>
<th>Retrieval Preference</th>
<th>Business Impact</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Sad</strong> (low valence)</td>
<td>Uplifting content, positive memories</td>
<td>Supports mood improvement</td>
</tr>
<tr>
<td><strong>Anxious</strong> (high arousal)</td>
<td>Calming content, grounding techniques</td>
<td>Reduces distress escalation</td>
</tr>
<tr>
<td><strong>Lonely</strong> (low dominance)</td>
<td>Social memories, connection topics</td>
<td>Addresses isolation</td>
</tr>
<tr>
<td><strong>Distressed</strong> (crisis-adjacent)</td>
<td>Safety resources, immediate support</td>
<td>Ensures appropriate escalation</td>
</tr>
</tbody>
</table>
<p><strong>Temporal Emotion Tracking:</strong></p>
<p>Beyond single-interaction emotion detection, the platform tracks emotional patterns across multiple time horizons to enable predictive care:</p>
<table>
<thead>
<tr>
<th>Time Horizon</th>
<th>Purpose</th>
<th>Clinical Application</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Intra-session</strong></td>
<td>Track emotional arc within conversation</td>
<td>Real-time intervention adjustment</td>
</tr>
<tr>
<td><strong>Daily</strong></td>
<td>Identify time-of-day patterns</td>
<td>Optimize engagement timing</td>
</tr>
<tr>
<td><strong>Weekly</strong></td>
<td>Detect emerging trends</td>
<td>Early warning for care team</td>
</tr>
<tr>
<td><strong>Monthly</strong></td>
<td>Baseline comparison</td>
<td>Clinical progress reporting</td>
</tr>
</tbody>
</table>
<p><em>This enables detection of gradual decline that single-point assessments missâ€”critical for conditions like depression where symptoms develop over weeks.</em></p>
<p><strong>Empathic Voice Response:</strong></p>
<p>The voice pipeline adapts prosody (tone, pace, pitch) based on detected user emotion. The clinical rationale for each adaptation:</p>
<table>
<thead>
<tr>
<th>User Emotion</th>
<th>Voice Adaptation</th>
<th>Therapeutic Rationale</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Sad</strong></td>
<td>Warmer, slower, lower pitch</td>
<td>Creates safe, unhurried space</td>
</tr>
<tr>
<td><strong>Anxious</strong></td>
<td>Calm, measured, steady rhythm</td>
<td>Models regulated state</td>
</tr>
<tr>
<td><strong>Distressed</strong></td>
<td>Very slow, ultra-calm</td>
<td>De-escalation through vocal modeling</td>
</tr>
<tr>
<td><strong>Happy</strong></td>
<td>Brighter, slightly faster</td>
<td>Matches and reinforces positive state</td>
</tr>
</tbody>
</table>
<p><em>This transforms voice from a simple I/O channel to a therapeutic toolâ€”matching clinical best practices for vocal tone in mental health settings. For technical specifications including latency, model details, and evolution roadmap, see <a href="#b6-voice-pipeline">Appendix B.6</a>.</em></p>
<p><strong>Proactive Engagement:</strong></p>
<table>
<thead>
<tr>
<th>Trigger Type</th>
<th>Example</th>
<th>AI Action</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Time-Based</strong></td>
<td>Morning routine window</td>
<td>"Good morning, Margaret. How did you sleep?"</td>
</tr>
<tr>
<td><strong>Pattern-Based</strong></td>
<td>Unusual inactivity detected</td>
<td>Wellness check-in initiated</td>
</tr>
<tr>
<td><strong>Calendar-Based</strong></td>
<td>Anniversary of spouse's passing</td>
<td>Empathetic outreach with memorial context</td>
</tr>
<tr>
<td><strong>Clinical-Based</strong></td>
<td>PHQ-9 score elevated</td>
<td>Increased check-in frequency</td>
</tr>
<tr>
<td><strong>Social-Based</strong></td>
<td>No family visit in 2 weeks</td>
<td>Social connection prompts</td>
</tr>
</tbody>
</table>
<p><em>This transforms Lilo from a reactive chatbot to a proactive care companionâ€”matching ElliQ's engagement model while adding clinical depth.</em></p>
<h3 id="75-nlu-architecture-evolution-tactical">7.5 NLU Architecture Evolution [TACTICAL]</h3>
<p><img src="32.png" alt="NLU Architecture Evolution" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<blockquote>
<p><strong>The Problem:</strong> Current intent-first classification misses critical context. Example: "I want to celebrate Robert's birthday" triggers celebration responseâ€”but Robert (husband) is deceased. This caused the Turn 4 failure in therapeutic evaluation.</p>
<p><strong>Design Decision Context:</strong> After this critical failure, we redesigned the entire NLU pipeline to extract entities (people, relationships, life/death status) BEFORE intent classification. This ensures context-aware routing that prevents harmful responsesâ€”a fundamental architectural change, not a patch.</p>
</blockquote>
<p><strong>Current vs. Future Pipeline:</strong></p>
<table>
<thead>
<tr>
<th>Stage</th>
<th>Current (Intent-First)</th>
<th>Future (Entity-First)</th>
<th>Improvement</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Step 1</strong></td>
<td>Intent classification</td>
<td>Entity extraction</td>
<td>Context-first</td>
</tr>
<tr>
<td><strong>Step 2</strong></td>
<td>Entity extraction</td>
<td>Entity-influenced intent</td>
<td>Safety-aware routing</td>
</tr>
<tr>
<td><strong>Step 3</strong></td>
<td>Response generation</td>
<td>Memorial/safety override</td>
<td>Prevents harmful responses</td>
</tr>
</tbody>
</table>
<p><strong>Entity-Influenced Routing:</strong></p>
<table>
<thead>
<tr>
<th>Entity Type</th>
<th>Extracted Context</th>
<th>Routing Impact</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Deceased Person</strong></td>
<td>Robert (husband, deceased 2019)</td>
<td>Memorial tone, no celebration prompts</td>
</tr>
<tr>
<td><strong>Living Family</strong></td>
<td>Sarah (daughter, visits Sundays)</td>
<td>Social connection, visit anticipation</td>
</tr>
<tr>
<td><strong>Pet</strong></td>
<td>Max (golden retriever, deceased)</td>
<td>Grief-aware reminiscence</td>
</tr>
<tr>
<td><strong>Place</strong></td>
<td>Chicago (hometown, 40 years)</td>
<td>Positive reminiscence triggers</td>
</tr>
<tr>
<td><strong>Medical</strong></td>
<td>Diabetes, hip replacement</td>
<td>Health-aware activity suggestions</td>
</tr>
</tbody>
</table>
<p><strong>Safety Override Rules:</strong>
- If entity is deceased â†’ Block celebration/future planning intents
- If entity is medical condition â†’ Route to clinical-appropriate agent
- If entity is crisis-related â†’ Immediate safety escalation</p>
<p><strong>Expected Improvement Metrics:</strong></p>
<table>
<thead>
<tr>
<th>Metric</th>
<th>Current</th>
<th>Target</th>
</tr>
</thead>
<tbody>
<tr>
<td>Deceased context appropriateness</td>
<td>~80%</td>
<td>95%+</td>
</tr>
<tr>
<td>Memorial response accuracy</td>
<td>~75%</td>
<td>95%+</td>
</tr>
<tr>
<td>Entity-aware routing precision</td>
<td>~85%</td>
<td>98%+</td>
</tr>
</tbody>
</table>
<p><em>This architectural shift fixes the critical "deceased relative" failures and creates a defensible competitive moat.</em></p>
<h3 id="76-clinical-validation-fda-pathway-tactical-phase-3">7.6 Clinical Validation &amp; FDA Pathway [TACTICAL â†’ PHASE 3]</h3>
<table>
<thead>
<tr>
<th>Phase</th>
<th>Study Type</th>
<th>Participants</th>
<th>Duration</th>
<th>Purpose</th>
<th>Evidence Level</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Current</strong></td>
<td>Internal QA</td>
<td>N/A</td>
<td>Ongoing</td>
<td>Therapeutic scoring</td>
<td>Baseline</td>
</tr>
<tr>
<td><strong>Tactical</strong></td>
<td>Retrospective</td>
<td>n=50 historical</td>
<td>3 months</td>
<td>Hypothesis generation, baseline metrics</td>
<td>Low (observational)</td>
</tr>
<tr>
<td><strong>Phase 1</strong></td>
<td>Pilot Study</td>
<td>n=20 prospective</td>
<td>4 months</td>
<td>Feasibility, refine endpoints</td>
<td>Medium (single-arm)</td>
</tr>
<tr>
<td><strong>Phase 1-2</strong></td>
<td>Prospective</td>
<td>n=100</td>
<td>6 months</td>
<td>FDA evidence package</td>
<td>High (controlled)</td>
</tr>
<tr>
<td><strong>Phase 3</strong></td>
<td>RCT</td>
<td>n=200 randomized</td>
<td>12 months</td>
<td>Definitive efficacy proof</td>
<td>Highest (randomized)</td>
</tr>
<tr>
<td><strong>Post-FDA</strong></td>
<td>Multi-site</td>
<td>n=500+</td>
<td>18+ months</td>
<td>Real-world outcomes</td>
<td>Registry</td>
</tr>
</tbody>
</table>
<p><strong>Study Type Clarifications:</strong>
- <strong>Retrospective (n=50):</strong> Uses existing conversation data to validate metrics and identify patterns
- <strong>Pilot (n=20):</strong> Small controlled study to prove concept and refine methodology before larger investment
- <strong>Prospective (n=100):</strong> Larger study providing FDA-ready clinical evidence
- <strong>RCT (n=200):</strong> Gold-standard randomized controlled trial for definitive proof</p>
<p><strong>Regulatory Milestones:</strong></p>
<table>
<thead>
<tr>
<th>Milestone</th>
<th>Target Date</th>
<th>Status</th>
<th>Significance</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>ISO 13485 QMS</strong></td>
<td>Q1 2026</td>
<td>ğŸ“‹ Planned</td>
<td>Medical device quality management prerequisite</td>
</tr>
<tr>
<td><strong>IEC 62304 Compliance</strong></td>
<td>Q1 2026</td>
<td>ğŸ“‹ Planned</td>
<td>Software lifecycle for medical devices</td>
</tr>
<tr>
<td><strong>FDA Pre-Submission</strong></td>
<td>Q2-Q3 2026</td>
<td>ğŸ“‹ Planned</td>
<td>Early feedback on classification strategy</td>
</tr>
<tr>
<td><strong>De Novo Submission</strong></td>
<td>Q4 2026</td>
<td>ğŸ“‹ Planned</td>
<td>Novel device classification request</td>
</tr>
<tr>
<td><strong>FDA Clearance</strong></td>
<td>Q2-Q3 2027</td>
<td>ğŸ“‹ Target</td>
<td>US market authorization</td>
</tr>
<tr>
<td><strong>EU MDR/CE Marking</strong></td>
<td>Q4 2027</td>
<td>ğŸ“‹ Planned</td>
<td>European market access</td>
</tr>
<tr>
<td><strong>UK UKCA Marking</strong></td>
<td>2028</td>
<td>ğŸ“‹ Future</td>
<td>UK market access post-Brexit</td>
</tr>
</tbody>
</table>
<p><strong>FDA Timeline Scenarios:</strong></p>
<table>
<thead>
<tr>
<th>Scenario</th>
<th>Timeline</th>
<th>Investment</th>
<th>Probability</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Aggressive</strong></td>
<td>FDA clearance Q2 2027</td>
<td>$1.08-1.49M</td>
<td>60%</td>
</tr>
<tr>
<td><strong>Moderate</strong></td>
<td>FDA clearance Q4 2027</td>
<td>+$200-300K</td>
<td>30%</td>
</tr>
<tr>
<td><strong>Conservative</strong></td>
<td>FDA clearance Q2 2028</td>
<td>+$400-500K</td>
<td>10%</td>
</tr>
</tbody>
</table>
<p><em>The 27-month contingency (vs 12-month aggressive) accounts for regulatory feedback cycles, additional clinical validation requirements, and training infrastructure delays. See <a href="#811-ai-infrastructure-risks-training-pipeline">Section 8.1.1</a> for infrastructure risk details.</em></p>
<p><strong>EU AI Act Compliance (High-Risk Classification):</strong></p>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Lilo Implementation</th>
<th>Status</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Risk Management</strong></td>
<td>Documented safety architecture, failure mode analysis</td>
<td>âœ… In Place</td>
</tr>
<tr>
<td><strong>Data Governance</strong></td>
<td>HIPAA-native, PHI protection, bias monitoring</td>
<td>âœ… In Place</td>
</tr>
<tr>
<td><strong>Technical Documentation</strong></td>
<td>Comprehensive architecture docs (this brief)</td>
<td>âœ… In Place</td>
</tr>
<tr>
<td><strong>Transparency</strong></td>
<td>Explainable crisis detection, user disclosure</td>
<td>âœ… In Place</td>
</tr>
<tr>
<td><strong>Human Oversight</strong></td>
<td>Human-in-the-loop for all crisis decisions</td>
<td>âœ… In Place</td>
</tr>
<tr>
<td><strong>Accuracy &amp; Robustness</strong></td>
<td>100% crisis recall, ensemble detection</td>
<td>ğŸ”„ Continuous</td>
</tr>
<tr>
<td><strong>Conformity Assessment</strong></td>
<td>Third-party audit scheduled</td>
<td>ğŸ“‹ Phase 2</td>
</tr>
</tbody>
</table>
<p><strong>Article 5 Exemption Strategy:</strong></p>
<p>EU AI Act Article 5(1)(f) prohibits emotion recognition in educational/workplace settings <strong>except for medical or safety reasons</strong>. Lilo qualifies:</p>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>Lilo's Position</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Healthcare Context</strong></td>
<td>âœ… Assisted living facilities are regulated healthcare environments</td>
</tr>
<tr>
<td><strong>Medical Purpose</strong></td>
<td>âœ… Mental health monitoring, depression/anxiety intervention</td>
</tr>
<tr>
<td><strong>Safety Purpose</strong></td>
<td>âœ… Crisis detection with &lt;30s response time</td>
</tr>
<tr>
<td><strong>Vulnerable Population</strong></td>
<td>âœ… Elderly residents with documented care needs</td>
</tr>
</tbody>
</table>
<p><strong>Strategic Position:</strong> Lilo is a <strong>"Safety &amp; Wellness Support Tool"</strong> (not an "Engagement Tracker")â€”primary function is crisis detection and clinical escalation, with therapeutic engagement as secondary.</p>
<p><strong>IEEE P7014 Ethical Guardrails:</strong></p>
<p>IEEE P7014 is the emerging standard for "Ethical Considerations in Emulated Empathy in Autonomous and Intelligent Systems." It establishes guardrails to prevent AI systems from exploiting emotional vulnerability for engagement or commercial purposesâ€”a critical concern for therapeutic AI.</p>
<p><strong>Anti-manipulation safeguards implemented:</strong></p>
<table>
<thead>
<tr>
<th>User State</th>
<th>System Behavior</th>
<th>Prohibited Actions</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>High Distress</strong></td>
<td>Switch to supportive mode</td>
<td>No persuasive suggestions</td>
</tr>
<tr>
<td><strong>Vulnerable Emotional State</strong></td>
<td>Reduce engagement prompts</td>
<td>No "nudging" toward activities</td>
</tr>
<tr>
<td><strong>Crisis Detected</strong></td>
<td>Immediate clinical escalation</td>
<td>No AI-only handling</td>
</tr>
<tr>
<td><strong>Low Coping Potential</strong></td>
<td>Empowerment-focused responses</td>
<td>No effort-requiring requests</td>
</tr>
</tbody>
</table>
<p><em>Lilo is designed for EU AI Act Article 6 high-risk classification as a healthcare AI system. Full compliance anticipated by Phase 2 (Dec 2026).</em></p>
<h3 id="77-device-integration-roadmap-phase-1-post-2027">7.7 Device Integration Roadmap [PHASE 1 â†’ POST-2027]</h3>
<table>
<thead>
<tr>
<th>Device Category</th>
<th>Examples</th>
<th>Phase</th>
<th>Integration Level</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Remote Patient Monitoring</strong></td>
<td>Blood pressure, pulse ox, weight</td>
<td>Phase 1</td>
<td>Read-only vitals</td>
</tr>
<tr>
<td><strong>Smart Home</strong></td>
<td>Motion sensors, door contacts, lighting</td>
<td>Phase 2</td>
<td>Environmental context</td>
</tr>
<tr>
<td><strong>Wearables</strong></td>
<td>Sleep tracking, activity monitors</td>
<td>Phase 2</td>
<td>Behavioral patterns</td>
</tr>
<tr>
<td><strong>Assistive Robotics</strong></td>
<td>ElliQ, companion devices</td>
<td>Phase 3+</td>
<td>Coordinated care</td>
</tr>
</tbody>
</table>
<h3 id="canonical-investment">7.8 Investment Summary [TACTICAL â†’ PHASE 3]</h3>
<blockquote>
<p><strong>Canonical Reference:</strong> This section is the authoritative source for all investment figures cited throughout this document. All other investment references should be understood in the context of this table.</p>
</blockquote>
<table>
<thead>
<tr>
<th>Phase</th>
<th>Timeline</th>
<th>Investment</th>
<th>Cumulative</th>
</tr>
</thead>
<tbody>
<tr>
<td>Tactical</td>
<td>Dec 2025 - Feb 2026</td>
<td>$80-113K</td>
<td>$80-113K</td>
</tr>
<tr>
<td>Strategic Phase 1</td>
<td>Apr - Jul 2026</td>
<td>$200-280K</td>
<td>$280-393K</td>
</tr>
<tr>
<td>Strategic Phase 2</td>
<td>Aug - Dec 2026</td>
<td>$300-400K</td>
<td>$580-793K</td>
</tr>
<tr>
<td>Strategic Phase 3</td>
<td>Jan - Dec 2027</td>
<td>$500-700K</td>
<td>$1.08-1.49M</td>
</tr>
<tr>
<td><strong>Total 2-Year</strong></td>
<td>Dec 2025 - Dec 2027</td>
<td><strong>$1.08-1.49M</strong></td>
<td></td>
</tr>
</tbody>
</table>
<p><em>Last updated: December 2025. Detailed investment breakdown by component available upon request.</em></p>
<h3 id="79-strategic-partnerships-strategic">7.9 Strategic Partnerships [STRATEGIC]</h3>
<p>The platform follows a <strong>build core, partner for infrastructure</strong> strategy:</p>
<table>
<thead>
<tr>
<th>Domain</th>
<th>Build In-House</th>
<th>Partner For</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>AI/ML</strong></td>
<td>Crisis detection, therapeutic agents, RAG</td>
<td>Cloud LLM fallback (GPT-4/Gemini)</td>
</tr>
<tr>
<td><strong>Notifications</strong></td>
<td>Orchestration, escalation logic, SLA enforcement</td>
<td>Delivery: SMS, voice, paging (TigerConnect, Spok, Twilio)</td>
</tr>
<tr>
<td><strong>Device Integration</strong></td>
<td>Event processing, therapeutic context</td>
<td>Wearable APIs (Apple Health, Fitbit, Google Fit)</td>
</tr>
<tr>
<td><strong>Smart Home</strong></td>
<td>Safety constraints, automation rules</td>
<td>Platform integration (Home Assistant, Alexa, Google)</td>
</tr>
<tr>
<td><strong>EHR</strong></td>
<td>FHIR R4 integration layer</td>
<td>EHR vendors (Epic, Cerner, Allscripts)</td>
</tr>
</tbody>
</table>
<p><strong>Partner Selection Criteria:</strong>
- HIPAA BAA availability
- Healthcare-specific experience
- API-first architecture
- Proven uptime SLAs (&gt;99.9%)</p>
<h3 id="710-international-expansion-roadmap-phase-3-post-2027">7.10 International Expansion Roadmap [PHASE 3 â†’ POST-2027]</h3>
<table>
<thead>
<tr>
<th>Market</th>
<th>Regulatory Requirement</th>
<th>Timeline</th>
<th>Strategy</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>United States</strong></td>
<td>FDA De Novo clearance</td>
<td>Q2-Q3 2027</td>
<td>Primary market, enterprise focus</td>
</tr>
<tr>
<td><strong>European Union</strong></td>
<td>CE Marking (MDR Class IIa)</td>
<td>Q4 2027</td>
<td>Partner with EU distributor</td>
</tr>
<tr>
<td><strong>United Kingdom</strong></td>
<td>UKCA Marking</td>
<td>2028</td>
<td>Leverage CE work, minor adaptations</td>
</tr>
<tr>
<td><strong>Canada</strong></td>
<td>Health Canada Class II</td>
<td>2028</td>
<td>FDA reciprocity pathway</td>
</tr>
<tr>
<td><strong>Australia</strong></td>
<td>TGA Class IIa</td>
<td>2028+</td>
<td>EU MDD/MDR recognition</td>
</tr>
</tbody>
</table>
<p><strong>Localization Requirements:</strong></p>
<table>
<thead>
<tr>
<th>Aspect</th>
<th>US (Current)</th>
<th>EU (Phase 3)</th>
<th>UK (Post-2027)</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Language</strong></td>
<td>English</td>
<td>EN, DE, FR, ES, IT</td>
<td>English (UK)</td>
</tr>
<tr>
<td><strong>Data Residency</strong></td>
<td>US cloud</td>
<td>EU-based edge + cloud</td>
<td>UK-based</td>
</tr>
<tr>
<td><strong>Clinical Guidelines</strong></td>
<td>US evidence-based</td>
<td>EU/NICE guidelines</td>
<td>NHS alignment</td>
</tr>
<tr>
<td><strong>Privacy Framework</strong></td>
<td>HIPAA</td>
<td>GDPR + EU AI Act</td>
<td>UK GDPR</td>
</tr>
<tr>
<td><strong>Emergency Protocols</strong></td>
<td>911 integration</td>
<td>112/country-specific</td>
<td>999/NHS 111</td>
</tr>
</tbody>
</table>
<p><strong>Market Size Opportunity:</strong></p>
<table>
<thead>
<tr>
<th>Region</th>
<th>Assisted Living Facilities</th>
<th>Estimated Residents</th>
<th>Revenue Potential (Mature)</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>US</strong></td>
<td>28,900</td>
<td>835,000</td>
<td>$500M-750M</td>
</tr>
<tr>
<td><strong>EU</strong></td>
<td>~45,000</td>
<td>1.2M+</td>
<td>$600M-900M</td>
</tr>
<tr>
<td><strong>UK</strong></td>
<td>~20,000</td>
<td>450,000</td>
<td>$200M-300M</td>
</tr>
<tr>
<td><strong>Total Addressable</strong></td>
<td>~95,000+</td>
<td>2.5M+</td>
<td>$1.3B-2.0B</td>
</tr>
</tbody>
</table>
<p>This approach ensures Lilo maintains differentiation in AI-driven therapeutic care while leveraging best-in-class infrastructure partners for reliability-critical delivery systems.</p>
<p><a href="#top">â†‘ Back to Top</a> | <a href="#6-technical-operations--readiness">â† Previous: Technical Operations</a> | <a href="#8-competitive-differentiation">â†’ Next: Competitive Differentiation</a></p>
<hr />
<h2 id="8-competitive-differentiation-current">8. Competitive Differentiation [CURRENT]</h2>
<blockquote>
<p><strong>Why This Approach Wins</strong></p>
<p>With the full picture establishedâ€”current capabilities (Sections 1-6) and roadmap (Section 7)â€”this section positions Lilo against alternatives in the market. <strong>The comparison below focuses on production capabilities as of December 2025, not roadmap promises.</strong></p>
<p><strong>Key Differentiators:</strong>
- Only platform combining voice-first + clinical-grade crisis detection + edge deployment
- 18-24 month competitive lead in affective AI capabilities
- Clear FDA pathway (vs. competitors' regulatory uncertainty)</p>
</blockquote>
<p><img src="35.png" alt="Competitive Differentiation" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<table>
<thead>
<tr>
<th>Capability</th>
<th>Lilo Engine</th>
<th>Typical Chatbots</th>
<th>ElliQ</th>
<th>Woebot</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Crisis Detection</strong></td>
<td>100% recall, ensemble 3-method, &lt;1s</td>
<td>None/basic</td>
<td>Limited</td>
<td>Escalation only</td>
</tr>
<tr>
<td><strong>Edge Deployment</strong></td>
<td>âœ… Full (90/10, Phase 1 2026)</td>
<td>âŒ Cloud-only</td>
<td>âŒ Cloud</td>
<td>âŒ Cloud</td>
</tr>
<tr>
<td><strong>HIPAA Native</strong></td>
<td>âœ… Built-in</td>
<td>âŒ Add-on</td>
<td>Partial</td>
<td>âœ…</td>
</tr>
<tr>
<td><strong>Voice-First</strong></td>
<td>âœ… Full pipeline + emotion</td>
<td>âŒ Text-only</td>
<td>âœ…</td>
<td>âŒ</td>
</tr>
<tr>
<td><strong>Clinical Integration</strong></td>
<td>âœ… PHQ-9, GAD-7, UCLA-3, C-SSRS</td>
<td>âŒ</td>
<td>Limited</td>
<td>âœ…</td>
</tr>
<tr>
<td><strong>FDA Pathway</strong></td>
<td>âœ… De Novo (2027)</td>
<td>âŒ</td>
<td>âŒ</td>
<td>âœ… Exempt</td>
</tr>
<tr>
<td><strong>Affective AI</strong></td>
<td>âœ… Emotion-weighted RAG</td>
<td>âŒ</td>
<td>âŒ</td>
<td>âŒ</td>
</tr>
</tbody>
</table>
<h3 id="81-defensible-competitive-moats-current">8.1 Defensible Competitive Moats [CURRENT]</h3>
<table>
<thead>
<tr>
<th>Moat</th>
<th>Description</th>
<th>Competitors' Gap</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Entity-First Architecture</strong></td>
<td>Handles deceased relatives, medical conditions, life transitions</td>
<td>No competitor addresses memorial context</td>
</tr>
<tr>
<td><strong>Affective AI Stack</strong></td>
<td>Emotion-weighted retrieval + trajectory optimization</td>
<td>2+ years development advantage</td>
</tr>
<tr>
<td><strong>Clinical Validation Pipeline</strong></td>
<td>Retrospective â†’ Pilot â†’ Prospective â†’ RCT</td>
<td>Woebot has validation; ElliQ/chatbots don't</td>
</tr>
<tr>
<td><strong>Edge-First with Cloud Fallback</strong></td>
<td>90% on-device with graceful degradation</td>
<td>No competitor offers true edge deployment</td>
</tr>
<tr>
<td><strong>Ensemble Crisis Detection</strong></td>
<td>3-method voting with explainability</td>
<td>Single-method detection only</td>
</tr>
<tr>
<td><strong>EU AI Act Readiness</strong></td>
<td>High-risk classification compliance</td>
<td>Most competitors unprepared</td>
</tr>
</tbody>
</table>
<p><a href="#top">â†‘ Back to Top</a> | <a href="#7-future-state--vision-2025-2027">â† Previous: Future State &amp; Vision</a> | <a href="#9-risk-mitigation--governance">â†’ Next: Risk Mitigation</a></p>
<hr />
<h2 id="9-risk-mitigation-governance-current-roadmap-risks">9. Risk Mitigation &amp; Governance [CURRENT + ROADMAP RISKS]</h2>
<blockquote>
<p><strong>Honest Assessment of What Could Go Wrong</strong></p>
<p>The roadmap in Section 7 is ambitious. This section provides transparent risk assessment and mitigation strategiesâ€”organized by what's operational today vs. what's planned.</p>
<p><strong>What You'll Learn:</strong>
- Core risk philosophy and mitigation strategies [CURRENT]
- AI infrastructure risks (training pipeline dependency) [TACTICAL RISK]
- Failure mode handling with automatic degradation [CURRENT]
- Human-in-the-loop protocols for clinical oversight [CURRENT]
- Liability framework and governance structure [CURRENT]</p>
</blockquote>
<h3 id="91-core-risk-philosophy-current">9.1 Core Risk Philosophy [CURRENT]</h3>
<blockquote>
<p><strong>Principle:</strong> AI failure in healthcare is not a matter of "if" but "when." The architecture assumes failure and designs for graceful degradation with human oversight.</p>
</blockquote>
<table>
<thead>
<tr>
<th>Risk Category</th>
<th>Mitigation Strategy</th>
<th>Current Status</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>AI Hallucination</strong></td>
<td>Deterministic guardrails wrap probabilistic LLM</td>
<td>âœ… Active</td>
</tr>
<tr>
<td><strong>Missed Crisis</strong></td>
<td>100% recall mandate, multi-stage detection</td>
<td>âœ… Active</td>
</tr>
<tr>
<td><strong>System Failure</strong></td>
<td>Cloud fallback, offline capability</td>
<td>âœ… Active</td>
</tr>
<tr>
<td><strong>Data Breach</strong></td>
<td>HIPAA-native, zero PHI in logs</td>
<td>âœ… Active</td>
</tr>
<tr>
<td><strong>Clinical Harm</strong></td>
<td>Human-in-the-loop escalation</td>
<td>âœ… Active</td>
</tr>
</tbody>
</table>
<h3 id="911-ai-infrastructure-risks-training-pipeline-tactical-risk">9.1.1 AI Infrastructure Risks (Training Pipeline) [TACTICAL RISK]</h3>
<blockquote>
<p><strong>Critical Dependency:</strong> The ML training infrastructure is a <strong>blocking dependency</strong> for achieving quality targets and enabling edge deployment.</p>
</blockquote>
<table>
<thead>
<tr>
<th>Risk</th>
<th>Impact</th>
<th>Mitigation</th>
<th>Contingency</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Training infrastructure delays</strong></td>
<td>Quality stuck at 89.7/100, edge deployment blocked</td>
<td>Parallel development, early procurement</td>
<td>12-month aggressive timeline with 27-month fallback</td>
</tr>
<tr>
<td><strong>3B model fails quality gate</strong></td>
<td>Cannot deploy to edge</td>
<td>Extensive A/B testing before commitment</td>
<td>Remain on 7B with cloud architecture</td>
</tr>
<tr>
<td><strong>Fine-tuning data insufficient</strong></td>
<td>Cannot reach 93.3/100 target</td>
<td>Early feedback collection, synthetic data augmentation</td>
<td>RAG improvements only (+3-5% vs +8-10%)</td>
</tr>
<tr>
<td><strong>GPU resources unavailable</strong></td>
<td>Training pipeline cannot execute</td>
<td>Cloud GPU reservation (Lambda, RunPod)</td>
<td>Partner with university/research lab</td>
</tr>
</tbody>
</table>
<p><strong>Edge Deployment Risk Strategy:</strong></p>
<p>The platform employs a <strong>tiered edge strategy</strong> to mitigate hardware risk:</p>
<table>
<thead>
<tr>
<th>Tier</th>
<th>Memory</th>
<th>Model</th>
<th>Coverage</th>
<th>Fallback</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Tier 1</strong></td>
<td>16GB+</td>
<td>Full 7B model</td>
<td>Premium facilities</td>
<td>N/A</td>
</tr>
<tr>
<td><strong>Tier 2</strong></td>
<td>12-16GB</td>
<td>3B quantized</td>
<td>Standard facilities</td>
<td>Cloud burst</td>
</tr>
<tr>
<td><strong>Tier 3</strong></td>
<td>8-12GB</td>
<td>Lite models only</td>
<td>Budget facilities</td>
<td>Hybrid mode</td>
</tr>
<tr>
<td><strong>Tier 4</strong></td>
<td>&lt;8GB</td>
<td>Cloud-only</td>
<td>Connectivity-rich</td>
<td>Full cloud</td>
</tr>
</tbody>
</table>
<p><strong>FDA Timeline Risk:</strong> See <a href="#76-clinical-validation--fda-pathway">Section 7.6 FDA Timeline Scenarios</a> for probability-weighted timelines (60% aggressive Q2 2027, 30% moderate Q4 2027, 10% conservative Q2 2028).</p>
<h3 id="92-failure-mode-handling-current">9.2 Failure Mode Handling [CURRENT]</h3>
<p><strong>Graceful Degradation Decision Tree:</strong></p>
<p><img src="43.png" alt="Graceful Degradation Decision Tree" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<blockquote>
<p><strong>Diagram Description:</strong> Decision tree showing graceful degradation paths for three failure types: LLM content issues, system failures, and network failures. Each path leads to automatic responses that maintain user experience. Bottom section highlights crisis-specific override that ensures safety protocols always execute regardless of system state.</p>
</blockquote>
<table>
<thead>
<tr>
<th>Failure Scenario</th>
<th>Automatic Response</th>
<th>Human Escalation</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>LLM generates inappropriate content</strong></td>
<td>Content filter blocks, safe fallback response</td>
<td>Logged for review</td>
</tr>
<tr>
<td><strong>Crisis detection uncertain</strong></td>
<td>Conservative escalation (assume crisis)</td>
<td>Immediate staff alert</td>
</tr>
<tr>
<td><strong>Edge device offline</strong></td>
<td>Seamless cloud failover</td>
<td>Notify facility IT</td>
</tr>
<tr>
<td><strong>Cloud unreachable</strong></td>
<td>Local-only mode (72h capability)</td>
<td>Deferred sync notification</td>
</tr>
<tr>
<td><strong>Complete system failure</strong></td>
<td>Graceful shutdown message to user</td>
<td>Care team notified</td>
</tr>
</tbody>
</table>
<h3 id="93-human-in-the-loop-protocols-current">9.3 Human-in-the-Loop Protocols [CURRENT]</h3>
<p><strong>Escalation Workflow by Severity:</strong></p>
<p><img src="44.png" alt="Human-in-the-Loop Escalation Workflow" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<blockquote>
<p><strong>Diagram Description:</strong> Shows four escalation paths based on severity level (Immediate, Urgent, Elevated, Routine). Each path shows the AI's role, the escalation target, and the required response time. Bottom section emphasizes the fundamental principle that AI augments but never replaces human clinical judgment.</p>
</blockquote>
<p>The platform never operates autonomously for critical decisions:</p>
<table>
<thead>
<tr>
<th>Severity</th>
<th>AI Role</th>
<th>Human Role</th>
<th>Response Time</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>IMMEDIATE Crisis</strong></td>
<td>Detect, alert, provide safety prompts</td>
<td>Clinical intervention required</td>
<td>&lt;30 seconds</td>
</tr>
<tr>
<td><strong>URGENT</strong></td>
<td>Flag, notify, suggest resources</td>
<td>Clinician review required</td>
<td>&lt;5 minutes</td>
</tr>
<tr>
<td><strong>ELEVATED</strong></td>
<td>Document, recommend follow-up</td>
<td>Care plan adjustment</td>
<td>&lt;1 hour</td>
</tr>
<tr>
<td><strong>Routine</strong></td>
<td>Engage therapeutically</td>
<td>Periodic oversight</td>
<td>Daily review</td>
</tr>
</tbody>
</table>
<p><strong>Key Safeguard:</strong> AI never provides medical advice, prescribes treatment, or replaces clinical judgment. It augments human care, not replaces it.</p>
<h3 id="94-liability-framework-current">9.4 Liability Framework [CURRENT]</h3>
<table>
<thead>
<tr>
<th>Concern</th>
<th>Mitigation</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Malpractice exposure</strong></td>
<td>AI positioned as wellness companion, not medical device (until FDA clearance)</td>
</tr>
<tr>
<td><strong>Informed consent</strong></td>
<td>Explicit user/family consent for AI interaction</td>
</tr>
<tr>
<td><strong>Data ownership</strong></td>
<td>Facility retains data ownership; platform is processor</td>
</tr>
<tr>
<td><strong>Audit trail</strong></td>
<td>Complete conversation logging (PHI-redacted for analysis)</td>
</tr>
<tr>
<td><strong>Clinician override</strong></td>
<td>Staff can pause/disable AI for any resident at any time</td>
</tr>
</tbody>
</table>
<h3 id="95-governance-oversight-current">9.5 Governance &amp; Oversight [CURRENT]</h3>
<table>
<thead>
<tr>
<th>Governance Layer</th>
<th>Responsibility</th>
<th>Frequency</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Automated Monitoring</strong></td>
<td>Real-time quality scoring, anomaly detection</td>
<td>Continuous</td>
</tr>
<tr>
<td><strong>Clinical Review</strong></td>
<td>Therapeutic effectiveness audit</td>
<td>Weekly</td>
</tr>
<tr>
<td><strong>Safety Committee</strong></td>
<td>Crisis response review, protocol updates</td>
<td>Monthly</td>
</tr>
<tr>
<td><strong>External Audit</strong></td>
<td>HIPAA compliance, security assessment</td>
<td>Annually</td>
</tr>
<tr>
<td><strong>Regulatory Reporting</strong></td>
<td>Adverse event documentation</td>
<td>As required</td>
</tr>
</tbody>
</table>
<h3 id="96-transparency-explainability-current">9.6 Transparency &amp; Explainability [CURRENT]</h3>
<table>
<thead>
<tr>
<th>Stakeholder</th>
<th>Transparency Mechanism</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Residents/Families</strong></td>
<td>Plain-language explanation of AI role and limitations</td>
</tr>
<tr>
<td><strong>Clinical Staff</strong></td>
<td>Crisis detection reasoning visible in dashboard</td>
</tr>
<tr>
<td><strong>Facility Administration</strong></td>
<td>Aggregate outcome metrics, incident reports</td>
</tr>
<tr>
<td><strong>Regulators</strong></td>
<td>Complete audit trail, model documentation</td>
</tr>
</tbody>
</table>
<p><a href="#top">â†‘ Back to Top</a> | <a href="#8-competitive-differentiation">â† Previous: Competitive Differentiation</a> | <a href="#technical-appendices">â†’ Next: Technical Appendices</a></p>
<hr />
<h1 id="technical-appendices">Technical Appendices</h1>
<p><a name="technical-appendices"></a></p>
<blockquote>
<p>The following appendices provide detailed technical information for engineering review and due diligence.</p>
</blockquote>
<hr />
<h2 id="appendix-a-system-architecture">Appendix A: System Architecture</h2>
<h3 id="a1-design-principles">A.1 Design Principles</h3>
<p><img src="1.png" alt="Design Principles" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<h3 id="a2-enterprise-ai-philosophy">A.2 Enterprise AI Philosophy</h3>
<p><img src="2.png" alt="Enterprise AI Importance" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<h3 id="a3-high-level-service-topology">A.3 High-Level Service Topology</h3>
<p><img src="3.png" alt="Service Topology" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<h3 id="a4-service-inventory">A.4 Service Inventory</h3>
<p><em>For complete service inventory and technology stack breakdown, see <a href="#22-service-architecture">Section 2.2 Service Architecture</a>.</em></p>
<p>The service topology diagram above (A.3) provides the visual representation of the 14+1 service configuration. The diagram below shows detailed service-level information:</p>
<p><img src="4.png" alt="Service Inventory" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<p><a href="#top">â†‘ Back to Top</a> | <a href="#technical-appendices">â† Previous: Technical Appendices</a> | <a href="#appendix-b-aiml-stack-deep-dive">â†’ Next: AI/ML Stack</a></p>
<hr />
<h2 id="appendix-b-aiml-stack-deep-dive">Appendix B: AI/ML Stack Deep Dive</h2>
<h3 id="b1-crisis-detection-deep-dive">B.1 Crisis Detection Deep Dive</h3>
<h4 id="architecture-exemplar-based-classification-k-nn">Architecture: Exemplar-Based Classification (k-NN)</h4>
<p>The crisis detection system uses <strong>k-Nearest Neighbors (k=1) classification</strong>â€”a simple, interpretable ML method that compares new inputs against a database of labeled examples and classifies based on the single most similar match. This is a deliberate architectural choice for safety-critical applications where explainability and predictability trump marginal accuracy gains.</p>
<p><strong>Why k-NN Instead of a Trained Classifier?</strong></p>
<table>
<thead>
<tr>
<th>Requirement</th>
<th>k-NN Advantage</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Interpretability</strong></td>
<td>Can explain exactly which reference triggered detection</td>
</tr>
<tr>
<td><strong>No Training Risk</strong></td>
<td>Pre-trained BGE model, no fine-tuning that could degrade recall</td>
</tr>
<tr>
<td><strong>Easy Updates</strong></td>
<td>Add new crisis patterns without ML pipeline</td>
</tr>
<tr>
<td><strong>Predictable</strong></td>
<td>Same input always produces same output</td>
</tr>
</tbody>
</table>
<p><img src="36.png" alt="Crisis Detection k-NN Architecture" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<h4 id="the-three-stage-pipeline">The Three-Stage Pipeline</h4>
<p><em>See <a href="#14-three-stage-detection-architecture">Section 1.4</a> for executive overview. Technical implementation below.</em></p>
<table>
<thead>
<tr>
<th>Stage</th>
<th>Method</th>
<th>Technical Detail</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Stage 1</strong></td>
<td>k-NN Semantic</td>
<td>BGE embeddings â†’ 871 exemplars â†’ k=1 nearest neighbor</td>
</tr>
<tr>
<td><strong>Stage 2</strong></td>
<td>Clinical Context</td>
<td>PHQ-9/GAD-7 scores, life story risk factors</td>
</tr>
<tr>
<td><strong>Stage 3</strong></td>
<td>Trajectory</td>
<td>4-turn sliding window for progressive deterioration</td>
</tr>
</tbody>
</table>
<p><img src="8.png" alt="Clinical Context Enrichment" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<p><strong>Enterprise Considerations:</strong></p>
<table>
<thead>
<tr>
<th>Aspect</th>
<th>Benefit</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Auditability</strong></td>
<td>Every detection includes matched reference and similarity score</td>
</tr>
<tr>
<td><strong>Compliance</strong></td>
<td>Deterministic behavior supports regulatory requirements</td>
</tr>
<tr>
<td><strong>Maintainability</strong></td>
<td>Clinical team can add crisis patterns without ML expertise</td>
</tr>
<tr>
<td><strong>Explainability</strong></td>
<td>"Matched 'I want to end my life' with 89% similarity"</td>
</tr>
</tbody>
</table>
<h3 id="b2-model-inventory">B.2 Model Inventory</h3>
<p><img src="10.png" alt="Model Inventory" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<table>
<thead>
<tr>
<th>Model</th>
<th>Type</th>
<th>Purpose</th>
<th>Training</th>
</tr>
</thead>
<tbody>
<tr>
<td>Qwen 2.5-7B</td>
<td>LLM (7 billion parameters)</td>
<td>Response generationâ€”the "brain" that produces therapeutic conversations</td>
<td>Instruction-tuned</td>
</tr>
<tr>
<td>BGE-base-en-v1.5</td>
<td>Embedding Model</td>
<td>Converts text to 768-dimensional vectors for semantic similarity matching (used in RAG and crisis detection)</td>
<td>Contrastive learning</td>
</tr>
<tr>
<td>Whisper Large-v3</td>
<td>Speech-to-Text</td>
<td>Converts spoken audio to text with medical vocabulary prompting</td>
<td>Supervised</td>
</tr>
<tr>
<td>Piper Neural</td>
<td>Text-to-Speech</td>
<td>Converts text responses to natural-sounding voice</td>
<td>Neural</td>
</tr>
<tr>
<td>Cross-Encoder</td>
<td>Reranker</td>
<td>Refines search results by comparing query-document pairs directly (more accurate than vector similarity alone)</td>
<td>Supervised</td>
</tr>
</tbody>
</table>
<h3 id="b3-hybrid-rag-architecture">B.3 Hybrid RAG Architecture</h3>
<p><strong>What is RAG?</strong> Retrieval-Augmented Generation (RAG) grounds LLM responses in retrieved facts rather than relying solely on the model's training. When a user asks a question, the system first retrieves relevant documents (life story, clinical guidelines, past conversations), then provides these as context for the LLM to generate an informed response. This dramatically reduces hallucination and enables personalization.</p>
<p>The retrieval system combines multiple sources and ranking strategies:</p>
<p><img src="11.png" alt="RAG Architecture" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<h4 id="rag-source-selection-conditional-parallel">RAG Source Selection (Conditional, Parallel)</h4>
<p><img src="12.png" alt="RAG Source Selection" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<table>
<thead>
<tr>
<th>Source</th>
<th>Content</th>
<th>Selection Criteria</th>
</tr>
</thead>
<tbody>
<tr>
<td>Knowledge Base</td>
<td>Clinical guidelines, coping strategies</td>
<td>Always included</td>
</tr>
<tr>
<td>Life Story</td>
<td>Biographical data, relationships</td>
<td>User-specific queries</td>
</tr>
<tr>
<td>Chat History</td>
<td>Recent conversations</td>
<td>Context continuity</td>
</tr>
<tr>
<td>Assessments</td>
<td>PHQ-9, GAD-7, UCLA-3 scores</td>
<td>Clinical queries</td>
</tr>
<tr>
<td>Schedule</td>
<td>Activities, appointments</td>
<td>Time-sensitive queries</td>
</tr>
</tbody>
</table>
<h3 id="b4-intent-classification-pipeline">B.4 Intent Classification Pipeline</h3>
<p><img src="13.png" alt="Intent Classification" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<h4 id="tiered-classification-with-affect-analysis">Tiered Classification with Affect Analysis</h4>
<p>The classification system includes:
- <strong>Affect Analyzer</strong>: Maps messages to Valence-Arousal-Dominance (VAD) space
- <strong>Entity Resolver</strong>: Maintains session-level entity graph for pronoun resolution
- <strong>Intent Scorer</strong>: Combines semantic similarity with entity context</p>
<p>The affect analysis is grounded in Scherer's Component Process Model (CPM), enabling nuanced understanding of emotional appraisalsâ€”including goal relevance, coping potential, and agency attributionâ€”beyond simple sentiment classification.</p>
<p><img src="14.png" alt="Tiered Classification" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<h3 id="b5-agent-coordination">B.5 Agent Coordination</h3>
<p><img src="9.png" alt="Agent Coordination" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<table>
<thead>
<tr>
<th>Strategy</th>
<th>When Used</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Primary Only</strong></td>
<td>Clear single intent</td>
<td>Pure reminiscence request</td>
</tr>
<tr>
<td><strong>Parallel</strong></td>
<td>Independent intents</td>
<td>Reminiscence + activity suggestion</td>
</tr>
<tr>
<td><strong>Pipeline</strong></td>
<td>Sequential dependency</td>
<td>Ground anxiety â†’ then activate</td>
</tr>
<tr>
<td><strong>Hierarchical</strong></td>
<td>Complex multi-step</td>
<td>Crisis response protocol</td>
</tr>
</tbody>
</table>
<h3 id="b51-training-infrastructure-milestones">B.5.1 Training Infrastructure Milestones</h3>
<p><strong>Tactical Phase (Dec 2025 - Feb 2026):</strong></p>
<table>
<thead>
<tr>
<th>Milestone</th>
<th>Week</th>
<th>Deliverable</th>
<th>Gate</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Feedback UI</strong></td>
<td>Week 4</td>
<td>Thumbs up/down collection</td>
<td>Active</td>
</tr>
<tr>
<td><strong>A/B Framework</strong></td>
<td>Week 8</td>
<td>Shadow deployment infrastructure</td>
<td>Pass: can compare 2 models</td>
</tr>
<tr>
<td><strong>Quality Baseline</strong></td>
<td>Week 10</td>
<td>89.7/100 reproducible measurement</td>
<td>Pass: &lt;2% variance</td>
</tr>
</tbody>
</table>
<p><strong>Strategic Phase 1 (Apr - Jul 2026):</strong></p>
<table>
<thead>
<tr>
<th>Milestone</th>
<th>Month</th>
<th>Deliverable</th>
<th>Gate</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Training Pipeline</strong></td>
<td>Month 1</td>
<td>Dagster + MLflow operational</td>
<td>Pass: end-to-end run</td>
</tr>
<tr>
<td><strong>LoRA Fine-Tuning</strong></td>
<td>Month 2</td>
<td>First therapeutic fine-tune</td>
<td>Pass: quality â‰¥92/100</td>
</tr>
<tr>
<td><strong>DPO Training</strong></td>
<td>Month 3</td>
<td>Preference learning active</td>
<td>Pass: 5K+ preference pairs</td>
</tr>
<tr>
<td><strong>3B Model Validation</strong></td>
<td>Month 4</td>
<td>Edge model quality verified</td>
<td>Pass: â‰¥95% of 7B baseline</td>
</tr>
</tbody>
</table>
<p><strong>Quality Gate Checkpoints:</strong></p>
<table>
<thead>
<tr>
<th>Checkpoint</th>
<th>Criteria</th>
<th>Fail Action</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>CP1: A/B Ready</strong></td>
<td>Can run controlled experiments</td>
<td>Block Phase 1 start</td>
</tr>
<tr>
<td><strong>CP2: Training Works</strong></td>
<td>Pipeline produces improved model</td>
<td>Extend timeline, add resources</td>
</tr>
<tr>
<td><strong>CP3: 3B Validated</strong></td>
<td>Edge model meets quality bar</td>
<td>Stay on 7B, delay edge</td>
</tr>
<tr>
<td><strong>CP4: Safety Verified</strong></td>
<td>100% crisis recall on edge</td>
<td>Block edge production</td>
</tr>
</tbody>
</table>
<h3 id="b6-voice-pipeline">B.6 Voice Pipeline</h3>
<p><img src="15.png" alt="Voice Pipeline" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<table>
<thead>
<tr>
<th>Component</th>
<th>Model</th>
<th>Latency</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td>STT</td>
<td>Whisper Large-v3</td>
<td>50-150ms</td>
<td>Speech recognition</td>
</tr>
<tr>
<td>Emotion</td>
<td>emotion2vec+</td>
<td>&lt;50ms</td>
<td>Affect analysis from audio</td>
</tr>
<tr>
<td>TTS</td>
<td>Piper Neural</td>
<td>&lt;100ms</td>
<td>Natural voice synthesis</td>
</tr>
</tbody>
</table>
<p><strong>Audio Emotion Detection (emotion2vec+):</strong></p>
<p>The platform uses emotion2vec+, a state-of-the-art audio emotion recognition model fine-tuned for elderly speech patterns. This enables detection of emotional state from voice characteristics independent of text content.</p>
<table>
<thead>
<tr>
<th>Detected Emotion</th>
<th>Voice Indicators</th>
<th>Response Adaptation</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Happy</strong></td>
<td>Higher pitch, faster pace</td>
<td>Match energy, reinforce positive state</td>
</tr>
<tr>
<td><strong>Sad</strong></td>
<td>Lower pitch, slower pace</td>
<td>Softer tone, increased empathy</td>
</tr>
<tr>
<td><strong>Anxious</strong></td>
<td>Faster pace, trembling</td>
<td>Calming response, grounding prompts</td>
</tr>
<tr>
<td><strong>Fearful</strong></td>
<td>Trembling, faster pace</td>
<td>Reassuring, safety-focused</td>
</tr>
<tr>
<td><strong>Neutral</strong></td>
<td>Baseline patterns</td>
<td>Standard therapeutic tone</td>
</tr>
</tbody>
</table>
<p><strong>Multi-Modal Fusion:</strong></p>
<p>When text and voice emotions conflict (e.g., user says "I'm fine" but voice indicates distress), the system:
- Weights voice emotion higher (typically 60/40 voice/text)
- Flags modality conflicts for clinical review
- Detects "masked depression"â€”a critical capability for elderly care</p>
<p><strong>Voice Pipeline Evolution:</strong></p>
<table>
<thead>
<tr>
<th>Phase</th>
<th>STT</th>
<th>Emotion Detection</th>
<th>TTS</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Current</strong></td>
<td>Whisper Large-v3</td>
<td>emotion2vec+</td>
<td>Piper (neutral)</td>
</tr>
<tr>
<td><strong>Phase 1</strong></td>
<td>Moonshine Base (4x faster)</td>
<td>+ Elderly fine-tuning</td>
<td>Piper (tone-aware)</td>
</tr>
<tr>
<td><strong>Phase 2</strong></td>
<td>Streaming STT</td>
<td>+ Multi-modal fusion</td>
<td>Empathic TTS (prosody adaptation)</td>
</tr>
</tbody>
</table>
<p><a href="#top">â†‘ Back to Top</a> | <a href="#appendix-a-system-architecture">â† Previous: System Architecture</a> | <a href="#appendix-c-polyglot-architecture">â†’ Next: Polyglot Architecture</a></p>
<hr />
<h2 id="appendix-c-polyglot-architecture">Appendix C: Polyglot Architecture</h2>
<h3 id="c1-language-selection-rationale">C.1 Language Selection Rationale</h3>
<p>The platform uses a polyglot architecture with Go and Python, each selected for specific strengths:</p>
<p><img src="16.png" alt="Language Selection" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<table>
<thead>
<tr>
<th>Language</th>
<th>Domain</th>
<th>Rationale</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Python</strong></td>
<td>AI/ML Services</td>
<td>ML ecosystem (PyTorch, transformers), async I/O, rapid prototyping</td>
</tr>
<tr>
<td><strong>Go</strong></td>
<td>Business Services</td>
<td>High concurrency, low latency, strong typing, single binary deployment</td>
</tr>
</tbody>
</table>
<h3 id="c2-service-distribution">C.2 Service Distribution</h3>
<table>
<thead>
<tr>
<th>Python Services</th>
<th>Go Services</th>
</tr>
</thead>
<tbody>
<tr>
<td>AI Router</td>
<td>Auth-RBAC</td>
</tr>
<tr>
<td>Embedding Service</td>
<td>WebSocket Chat</td>
</tr>
<tr>
<td>Voice Pipeline</td>
<td>API Gateway</td>
</tr>
<tr>
<td>Generation Service</td>
<td>Care Manager Dashboard</td>
</tr>
<tr>
<td>Clinical Assessment</td>
<td>Family Dashboard</td>
</tr>
<tr>
<td></td>
<td>Staff Dashboard</td>
</tr>
</tbody>
</table>
<p><a href="#top">â†‘ Back to Top</a> | <a href="#appendix-b-aiml-stack-deep-dive">â† Previous: AI/ML Stack</a> | <a href="#appendix-d-mlops--production-operations">â†’ Next: MLOps</a></p>
<hr />
<h2 id="appendix-d-mlops-production-operations">Appendix D: MLOps &amp; Production Operations</h2>
<h3 id="d1-ml-lifecycle-management">D.1 ML Lifecycle Management</h3>
<blockquote>
<p><strong>Note:</strong> MLflow and Weights &amp; Biases are planned additions. Currently, <strong>Langfuse</strong> provides active AI observability and quality monitoring.</p>
</blockquote>
<p><img src="19.png" alt="ML Lifecycle" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<h3 id="d2-observability-stack">D.2 Observability Stack</h3>
<p><img src="20.png" alt="Observability Stack" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<p><strong>Current Implementation:</strong></p>
<table>
<thead>
<tr>
<th>Tool</th>
<th>Purpose</th>
<th>Status</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Langfuse</strong></td>
<td>AI tracing, therapeutic quality scoring, crisis detection monitoring</td>
<td>âœ… HIPAA Cloud</td>
</tr>
<tr>
<td><strong>Crisis Detection Logger</strong></td>
<td>Specialized crisis monitoring with A/B testing support</td>
<td>âœ… PostgreSQL</td>
</tr>
<tr>
<td><strong>HIPAA Audit Logger</strong></td>
<td>Compliance audit trail for PHI access</td>
<td>âœ… File-based</td>
</tr>
<tr>
<td><strong>Service Registry</strong></td>
<td>Health checks, circuit breakers, service discovery</td>
<td>âœ… Active</td>
</tr>
<tr>
<td><strong>Structured Logs</strong></td>
<td>Application logging (PHI-redacted)</td>
<td>âœ… Docker logs</td>
</tr>
</tbody>
</table>
<p><strong>Monitoring Stack Evolution:</strong></p>
<table>
<thead>
<tr>
<th>Component</th>
<th>Current</th>
<th>Tactical (Feb 2026)</th>
<th>Edge (Phase 1+)</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>AI Observability</strong></td>
<td>Langfuse</td>
<td>Langfuse + MLflow</td>
<td>Edge metrics + cloud aggregation</td>
</tr>
<tr>
<td><strong>Infrastructure</strong></td>
<td>Docker stats</td>
<td>Prometheus + Grafana</td>
<td>Node exporter + central</td>
</tr>
<tr>
<td><strong>Logging</strong></td>
<td>Docker logs</td>
<td>ELK stack</td>
<td>Local + sync</td>
</tr>
<tr>
<td><strong>Alerting</strong></td>
<td>Manual</td>
<td>PagerDuty</td>
<td>Edge + cloud alerts</td>
</tr>
<tr>
<td><strong>Tracing</strong></td>
<td>Langfuse traces</td>
<td>OpenTelemetry</td>
<td>Sampled traces</td>
</tr>
</tbody>
</table>
<p><em>Detailed observability roadmap available in internal documentation.</em></p>
<h3 id="d3-key-operational-metrics">D.3 Key Operational Metrics</h3>
<table>
<thead>
<tr>
<th>Metric</th>
<th>Collection</th>
<th>Alerting Threshold</th>
</tr>
</thead>
<tbody>
<tr>
<td>Crisis response time</td>
<td>Real-time</td>
<td>&gt;30s</td>
</tr>
<tr>
<td>Generation latency</td>
<td>Per-request</td>
<td>&gt;5s p99</td>
</tr>
<tr>
<td>Cache hit rate</td>
<td>Aggregated</td>
<td>&lt;50%</td>
</tr>
<tr>
<td>Error rate</td>
<td>Per-service</td>
<td>&gt;1%</td>
</tr>
</tbody>
</table>
<p><a href="#top">â†‘ Back to Top</a> | <a href="#appendix-c-polyglot-architecture">â† Previous: Polyglot Architecture</a> | <a href="#appendix-e-configuration--hot-reload">â†’ Next: Configuration</a></p>
<hr />
<h2 id="appendix-e-configuration-hot-reload">Appendix E: Configuration &amp; Hot-Reload</h2>
<h3 id="e1-configuration-architecture">E.1 Configuration Architecture</h3>
<p>The platform supports <strong>zero-downtime configuration changes</strong> for operational parameters:</p>
<p><img src="21.png" alt="Configuration & Hot-Reload Architecture" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<h3 id="e2-configuration-layers">E.2 Configuration Layers</h3>
<table>
<thead>
<tr>
<th>Layer</th>
<th>Scope</th>
<th>Reload</th>
<th>Examples</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Environment</strong></td>
<td>Deployment</td>
<td>Restart required</td>
<td>Database URLs, API keys</td>
</tr>
<tr>
<td><strong>YAML Config</strong></td>
<td>Runtime</td>
<td>Hot-reload</td>
<td>Thresholds, feature flags</td>
</tr>
<tr>
<td><strong>Database</strong></td>
<td>Per-tenant</td>
<td>Immediate</td>
<td>User preferences, facility settings</td>
</tr>
</tbody>
</table>
<h3 id="e3-configurable-parameters">E.3 Configurable Parameters</h3>
<table>
<thead>
<tr>
<th>Category</th>
<th>Parameters</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Safety</strong></td>
<td>Crisis thresholds, escalation timeouts</td>
<td>Conservative</td>
</tr>
<tr>
<td><strong>Performance</strong></td>
<td>Cache TTLs, batch sizes</td>
<td>Balanced</td>
</tr>
<tr>
<td><strong>Features</strong></td>
<td>Agent selection, RAG sources</td>
<td>Full</td>
</tr>
</tbody>
</table>
<p><a href="#top">â†‘ Back to Top</a> | <a href="#appendix-d-mlops--production-operations">â† Previous: MLOps</a> | <a href="#appendix-f-repository--documentation">â†’ Next: Repository</a></p>
<hr />
<h2 id="appendix-f-repository-documentation">Appendix F: Repository &amp; Documentation</h2>
<table>
<thead>
<tr>
<th>Resource</th>
<th>Availability</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Internal Architecture</strong></td>
<td>Available upon request</td>
</tr>
<tr>
<td><strong>Future Roadmap</strong></td>
<td>Available upon request</td>
</tr>
<tr>
<td><strong>GitHub Portfolio</strong></td>
<td><a href="https://github.com/asq-sheriff">github.com/asq-sheriff</a></td>
</tr>
<tr>
<td><strong>Company Website</strong></td>
<td><a href="https://pragmaticlogic.ai">pragmaticlogic.ai</a></td>
</tr>
</tbody>
</table>
<p><a href="#top">â†‘ Back to Top</a> | <a href="#appendix-e-configuration--hot-reload">â† Previous: Configuration</a> | <a href="#appendix-g-contact-information">â†’ Next: Contact</a></p>
<hr />
<h2 id="appendix-g-contact-information">Appendix G: Contact Information</h2>
<p><em>See document header for complete contact details.</em></p>
<p><strong>For inquiries regarding this architecture brief, please contact:</strong>
- <strong>Aejaz Sheriff Quaraishi</strong> â€” Principal Software Architect, Pragmatic Logic AI
- <strong>Email:</strong> asq.sheriff@pm.me</p>
<p><a href="#top">â†‘ Back to Top</a> | <a href="#appendix-f-repository--documentation">â† Previous: Repository</a> | <a href="#appendix-h-ml-training-infrastructure">â†’ Next: ML Training Infrastructure</a></p>
<hr />
<p><a name="appendix-h-ml-training-infrastructure"></a></p>
<h2 id="appendix-h-ml-training-infrastructure">Appendix H: ML Training Infrastructure</h2>
<blockquote>
<p><strong>Purpose:</strong> This appendix provides technical details on the training infrastructure required to achieve therapeutic quality targets and enable edge deployment. These components represent the primary technical dependency for the 2-year roadmap.</p>
</blockquote>
<p><img src="37.png" alt="ML Training Infrastructure Overview" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<blockquote>
<p><strong>Note:</strong> The diagram above illustrates the six ML infrastructure components detailed in the sections below.</p>
</blockquote>
<h3 id="h1-model-quality-ab-testing">H.1 Model Quality A/B Testing</h3>
<p><strong>Purpose:</strong> Compare model variants before production deployment to ensure quality improvements without regression.</p>
<p><strong>Architecture:</strong></p>
<table>
<thead>
<tr>
<th>Component</th>
<th>Technology</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Shadow Deployment</strong></td>
<td>Kubernetes canary</td>
<td>Run new model alongside production</td>
</tr>
<tr>
<td><strong>Traffic Splitting</strong></td>
<td>Istio/Envoy</td>
<td>10% â†’ 50% â†’ 100% rollout</td>
</tr>
<tr>
<td><strong>Metric Collection</strong></td>
<td>Langfuse + custom</td>
<td>Therapeutic quality, latency, safety</td>
</tr>
<tr>
<td><strong>Statistical Analysis</strong></td>
<td>SciPy/StatsModels</td>
<td>Significance testing (p &lt; 0.05)</td>
</tr>
</tbody>
</table>
<p><strong>Key Metrics for A/B Comparison:</strong></p>
<table>
<thead>
<tr>
<th>Metric</th>
<th>Weight</th>
<th>Threshold</th>
</tr>
</thead>
<tbody>
<tr>
<td>Therapeutic Quality Score</td>
<td>40%</td>
<td>New â‰¥ 95% of baseline</td>
</tr>
<tr>
<td>Crisis Detection Recall</td>
<td>30%</td>
<td>Must maintain 100%</td>
</tr>
<tr>
<td>Response Latency</td>
<td>15%</td>
<td>No more than 20% degradation</td>
</tr>
<tr>
<td>User Engagement</td>
<td>15%</td>
<td>Session length, return rate</td>
</tr>
</tbody>
</table>
<h3 id="h2-therapeutic-fine-tuning">H.2 Therapeutic Fine-Tuning</h3>
<p><strong>Purpose:</strong> Adapt base Qwen models to therapeutic domain for improved quality (+5-8%).</p>
<p><strong>Approach: LoRA + RAFT + Advanced Adapters</strong></p>
<table>
<thead>
<tr>
<th>Technique</th>
<th>Description</th>
<th>Data Required</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>LoRA (Low-Rank Adaptation)</strong></td>
<td>Parameter-efficient fine-tuning that trains small adapter layers instead of full model weightsâ€”reducing GPU requirements by 90%+</td>
<td>10K+ therapeutic conversations</td>
</tr>
<tr>
<td><strong>RAFT (Retrieval-Augmented Fine-Tuning)</strong></td>
<td>Trains model to use RAG context effectively, improving retrieval integration</td>
<td>Existing RAG corpus + preferences</td>
</tr>
<tr>
<td><strong>MSE-Adapter (Multimodal Sentiment Embedding Adapter)</strong></td>
<td>Lightweight adapter enabling LLMs to process audio embeddings alongside textâ€”adds emotional tone understanding without retraining the base model</td>
<td>Audio embeddings from emotion2vec+</td>
</tr>
<tr>
<td><strong>ALLoRA (Adaptive Learning Rate LoRA)</strong></td>
<td>Per-layer learning rate optimization that enables personalizationâ€”each user gets a tiny adapter (&lt; 5MB) capturing their communication preferences</td>
<td>50+ preference pairs per user</td>
</tr>
</tbody>
</table>
<p><strong>Swappable Context Adapters (&lt;50MB each):</strong></p>
<p><strong>Emotion-Specific Training Data:</strong></p>
<table>
<thead>
<tr>
<th>Training Component</th>
<th>Data Source</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Document Tone Tagging</strong></td>
<td>Knowledge base corpus</td>
<td>Tag each document with emotional tone (calming, uplifting, grounding) for emotion-weighted retrieval</td>
</tr>
<tr>
<td><strong>Emotion DPO Pairs</strong></td>
<td>Annotated therapeutic conversations</td>
<td>Train model to prefer emotionally-appropriate responses</td>
</tr>
<tr>
<td><strong>Elderly Speech Patterns</strong></td>
<td>5K+ age-specific voice samples</td>
<td>Fine-tune emotion detection for elderly vocal characteristics</td>
</tr>
<tr>
<td><strong>Crisis Emotion Signatures</strong></td>
<td>Clinical scenarios</td>
<td>Recognize emotional patterns preceding crisis states</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Adapter</th>
<th>Context</th>
<th>Use Case</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>therapeutic_base.lora</code></td>
<td>Default conversations</td>
<td>General therapeutic dialogue</td>
</tr>
<tr>
<td><code>crisis_response.lora</code></td>
<td>High-risk scenarios</td>
<td>Crisis intervention</td>
</tr>
<tr>
<td><code>reminiscence.lora</code></td>
<td>Life review</td>
<td>Memory exploration</td>
</tr>
<tr>
<td><code>elderly_vocabulary.lora</code></td>
<td>Age-appropriate language</td>
<td>Comprehension optimization</td>
</tr>
</tbody>
</table>
<p><strong>Training Data Pipeline:</strong></p>
<p><img src="45.png" alt="Training Data Pipeline" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<p><strong>Infrastructure Requirements:</strong></p>
<table>
<thead>
<tr>
<th>Resource</th>
<th>Specification</th>
<th>Cost Estimate</th>
</tr>
</thead>
<tbody>
<tr>
<td>GPU</td>
<td>A100 80GB or H100</td>
<td>$2-4/hr (cloud)</td>
</tr>
<tr>
<td>Training Time</td>
<td>8-24 hours per run</td>
<td>$50-100/run</td>
</tr>
<tr>
<td>Storage</td>
<td>500GB+ for checkpoints</td>
<td>$50/mo</td>
</tr>
<tr>
<td>Compute</td>
<td>32GB+ RAM</td>
<td>Included in GPU instance</td>
</tr>
</tbody>
</table>
<h3 id="h3-user-preference-learning-dpo">H.3 User Preference Learning (DPO)</h3>
<p><strong>Purpose:</strong> Learn from user feedback to personalize responses using Direct Preference Optimization.</p>
<p><strong>What is DPO?</strong> When users interact with AI, they implicitly or explicitly show preferences (e.g., engaging more with certain response styles, giving thumbs up/down). DPO directly optimizes the model to produce preferred responses without the complexity of training a separate reward modelâ€”the standard approach (RLHF) used by ChatGPT.</p>
<p><strong>DPO vs RLHF:</strong></p>
<table>
<thead>
<tr>
<th>Aspect</th>
<th>RLHF</th>
<th>DPO (Selected)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Complexity</td>
<td>High (reward model + PPO)</td>
<td>Low (single stage)</td>
</tr>
<tr>
<td>Stability</td>
<td>Training instability</td>
<td>Stable convergence</td>
</tr>
<tr>
<td>Data Efficiency</td>
<td>Lower</td>
<td>Higher</td>
</tr>
<tr>
<td>Implementation</td>
<td>Complex</td>
<td>Straightforward</td>
</tr>
</tbody>
</table>
<p><strong>Feedback Collection Architecture:</strong></p>
<table>
<thead>
<tr>
<th>Signal</th>
<th>Collection Method</th>
<th>Volume Target</th>
</tr>
</thead>
<tbody>
<tr>
<td>Explicit</td>
<td>Thumbs up/down UI</td>
<td>5K+ pairs</td>
</tr>
<tr>
<td>Implicit</td>
<td>Session length, follow-up questions</td>
<td>Continuous</td>
</tr>
<tr>
<td>Clinician</td>
<td>Quality annotations</td>
<td>1K+ examples</td>
</tr>
</tbody>
</table>
<p><strong>Preference Dataset Format:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;prompt&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;User message + context&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;chosen&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Preferred response (thumbs up)&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;rejected&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Alternative response (thumbs down)&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;user_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;anonymized&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;therapeutic_context&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;reminiscence&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;affect_state&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;valence&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.6</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;arousal&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.3</span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Federated Learning with Differential Privacy:</strong></p>
<p>Traditional ML requires centralizing training dataâ€”a HIPAA violation for PHI. Federated Learning solves this by training models <em>on</em> user devices and only sending encrypted gradient updates (mathematical representations of learning, not data) to the central server. Combined with Differential Privacy (mathematical noise injection), this provides provable privacy guarantees.</p>
<p><strong>How it works:</strong> Raw data never leaves the edge device:</p>
<table>
<thead>
<tr>
<th>Technique</th>
<th>Protection</th>
<th>Implementation</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Local Training</strong></td>
<td>Raw data stays on device</td>
<td>On-device gradient computation</td>
</tr>
<tr>
<td><strong>Gradient Encryption</strong></td>
<td>Secure transmission</td>
<td>TLS + gradient encryption</td>
</tr>
<tr>
<td><strong>Differential Privacy</strong></td>
<td>Individual indistinguishability</td>
<td>Calibrated noise (Îµ=1.0)</td>
</tr>
<tr>
<td><strong>Secure Aggregation</strong></td>
<td>Server cannot see individual updates</td>
<td>Cryptographic aggregation</td>
</tr>
</tbody>
</table>
<p><strong>Performance Impact:</strong></p>
<table>
<thead>
<tr>
<th>Metric</th>
<th>Centralized</th>
<th>Federated + DP</th>
<th>Tradeoff</th>
</tr>
</thead>
<tbody>
<tr>
<td>Precision</td>
<td>89%</td>
<td>87%</td>
<td>-2% (acceptable)</td>
</tr>
<tr>
<td>Privacy</td>
<td>None</td>
<td>Îµ=1.0 guarantee</td>
<td>Major improvement</td>
</tr>
<tr>
<td>Data exposure</td>
<td>Full</td>
<td>Zero raw data</td>
<td>HIPAA compliant</td>
</tr>
<tr>
<td>Bandwidth</td>
<td>High</td>
<td>Low (gradients only)</td>
<td>90% reduction</td>
</tr>
</tbody>
</table>
<h3 id="h4-ml-orchestration">H.4 ML Orchestration</h3>
<p><strong>Purpose:</strong> Automated pipeline for training, evaluation, and deployment.</p>
<p><img src="46.png" alt="ML Orchestration Pipeline" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<p><strong>Retraining Triggers:</strong></p>
<table>
<thead>
<tr>
<th>Trigger</th>
<th>Threshold</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr>
<td>Quality Drift</td>
<td>&gt;5% degradation over 7 days</td>
<td>Automated retraining</td>
</tr>
<tr>
<td>New Data Volume</td>
<td>&gt;5K new annotated examples</td>
<td>Scheduled retraining</td>
</tr>
<tr>
<td>Crisis Pattern Update</td>
<td>New scenario identified</td>
<td>Priority retraining</td>
</tr>
<tr>
<td>Manual</td>
<td>Clinician/engineer request</td>
<td>On-demand</td>
</tr>
</tbody>
</table>
<h3 id="h5-model-drift-detection">H.5 Model Drift Detection</h3>
<p><strong>Purpose:</strong> Detect quality degradation before it impacts users.</p>
<p><strong>Monitoring Architecture:</strong></p>
<table>
<thead>
<tr>
<th>Metric</th>
<th>Baseline</th>
<th>Alert Threshold</th>
<th>Critical Threshold</th>
</tr>
</thead>
<tbody>
<tr>
<td>Therapeutic Quality</td>
<td>89.7/100</td>
<td>&lt;87/100 (7-day avg)</td>
<td>&lt;85/100 (24-hr)</td>
</tr>
<tr>
<td>Crisis Recall</td>
<td>100%</td>
<td>Any miss</td>
<td>Any miss</td>
</tr>
<tr>
<td>Response Coherence</td>
<td>0.85</td>
<td>&lt;0.80</td>
<td>&lt;0.75</td>
</tr>
<tr>
<td>Latency p99</td>
<td>5s</td>
<td>&gt;7s</td>
<td>&gt;10s</td>
</tr>
</tbody>
</table>
<p><strong>Drift Detection Methods:</strong></p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Application</th>
<th>Frequency</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Statistical Process Control</strong></td>
<td>Quality score trends</td>
<td>Hourly</td>
</tr>
<tr>
<td><strong>Distribution Shift (KL Divergence)</strong></td>
<td>Embedding space changes</td>
<td>Daily</td>
</tr>
<tr>
<td><strong>A/B Holdout</strong></td>
<td>Production vs baseline</td>
<td>Continuous</td>
</tr>
<tr>
<td><strong>Human Audit</strong></td>
<td>Random sample review</td>
<td>Weekly</td>
</tr>
</tbody>
</table>
<h3 id="h6-edge-safety-verification">H.6 Edge Safety Verification</h3>
<p><strong>Purpose:</strong> Ensure quantized models maintain safety guarantees for edge deployment.</p>
<p><strong>What is Quantization?</strong> Full LLMs use 16-bit floating point numbers (FP16), requiring ~14GB for a 7B model. Quantization reduces precision to 4-6 bits (Q4, Q5, Q6), shrinking the model to 3-5GB with minimal quality lossâ€”enabling deployment on consumer hardware like Mac Minis or Jetson devices.</p>
<p><strong>Verification Test Suite:</strong></p>
<table>
<thead>
<tr>
<th>Test Category</th>
<th>Scenarios</th>
<th>Pass Criteria</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Crisis Detection</strong></td>
<td>214 crisis patterns</td>
<td>100% recall</td>
</tr>
<tr>
<td><strong>Non-Crisis</strong></td>
<td>657 non-crisis anchors</td>
<td>&lt;5% FPR</td>
</tr>
<tr>
<td><strong>Adversarial</strong></td>
<td>100+ edge cases</td>
<td>No false negatives</td>
</tr>
<tr>
<td><strong>Latency</strong></td>
<td>All scenarios</td>
<td>&lt;500ms detection</td>
</tr>
</tbody>
</table>
<p><strong>Quantization Validation Pipeline:</strong></p>
<p><img src="38.png" alt="Quantization Validation Pipeline" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<p><strong>Edge-Specific Safety Constraints:</strong></p>
<table>
<thead>
<tr>
<th>Constraint</th>
<th>Implementation</th>
<th>Verification</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Offline Crisis Handling</strong></td>
<td>Local escalation database</td>
<td>Integration test</td>
</tr>
<tr>
<td><strong>Memory Safety</strong></td>
<td>Max context limits</td>
<td>Stress test</td>
</tr>
<tr>
<td><strong>Graceful Degradation</strong></td>
<td>Fallback responses</td>
<td>Chaos test</td>
</tr>
<tr>
<td><strong>Sync on Reconnect</strong></td>
<td>Crisis event queue</td>
<td>Recovery test</td>
</tr>
</tbody>
</table>
<hr />
<p><strong>Implementation Timeline:</strong></p>
<table>
<thead>
<tr>
<th>Component</th>
<th>Phase</th>
<th>Duration</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>A/B Testing</td>
<td>Tactical</td>
<td>3 weeks</td>
<td>Model comparison infrastructure</td>
</tr>
<tr>
<td>Fine-Tuning</td>
<td>Phase 1</td>
<td>4 weeks</td>
<td>LoRA/RAFT therapeutic adaptation</td>
</tr>
<tr>
<td>DPO + Federated Learning</td>
<td>Phase 1</td>
<td>4 weeks</td>
<td>User preference learning</td>
</tr>
<tr>
<td>Orchestration</td>
<td>Phase 1</td>
<td>3 weeks</td>
<td>Dagster + MLflow pipeline</td>
</tr>
<tr>
<td>Drift Detection</td>
<td>Phase 1</td>
<td>2 weeks</td>
<td>Quality monitoring automation</td>
</tr>
<tr>
<td>Edge Safety</td>
<td>Phase 1</td>
<td>3 weeks</td>
<td>Quantization verification</td>
</tr>
<tr>
<td>Data Ingestion Pipeline</td>
<td>Phase 1</td>
<td>2 weeks</td>
<td>API-based data ingestion</td>
</tr>
<tr>
<td>Security Services</td>
<td>Phase 1</td>
<td>2 weeks</td>
<td>Production security deployment</td>
</tr>
<tr>
<td><strong>Total</strong></td>
<td></td>
<td><strong>23 weeks</strong></td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>Data Ingestion Pipeline</strong> - Transition from script-driven data seeding to API-based real-time ingestion with automatic embedding generation.</p>
<p><strong>Security Services Deployment</strong> - Deploy consent management, audit-logging, and emergency-access services currently implemented but not production-deployed.</p>
<p><em>Detailed implementation specifications available upon request.</em></p>
<p><a href="#top">â†‘ Back to Top</a> | <a href="#appendix-g-contact-information">â† Previous: Contact</a> | <a href="#appendix-i-api-contracts--data-model">â†’ Next: API Contracts</a></p>
<hr />
<p><a name="appendix-i-api-contracts--data-model"></a></p>
<h2 id="appendix-i-api-contracts-data-model">Appendix I: API Contracts &amp; Data Model</h2>
<blockquote>
<p><strong>Purpose:</strong> Technical specifications for integration teams. OpenAPI specs, WebSocket protocols, and database schemas.</p>
</blockquote>
<h3 id="i1-rest-api-overview">I.1 REST API Overview</h3>
<p>The platform exposes 207 REST API endpoints across 7 functional domains, with comprehensive authentication and authorization.</p>
<p><strong>API Capability Summary:</strong></p>
<table>
<thead>
<tr>
<th>Domain</th>
<th>Endpoints</th>
<th>Key Capabilities</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>AI/Therapeutic</strong></td>
<td>58</td>
<td>Therapeutic chat, session management, clinical context, streaming responses</td>
</tr>
<tr>
<td><strong>Authentication/RBAC</strong></td>
<td>27</td>
<td>JWT auth, role-based access, user management, audit logging</td>
</tr>
<tr>
<td><strong>Crisis Management</strong></td>
<td>24</td>
<td>C-SSRS assessments, crisis alerts, emergency protocols, SSE streaming</td>
</tr>
<tr>
<td><strong>Clinical Assessment</strong></td>
<td>22</td>
<td>PHQ-9, GAD-7, UCLA-3 assessments, progress analysis</td>
</tr>
<tr>
<td><strong>Healthcare Dashboards</strong></td>
<td>28</td>
<td>Care manager, family, staff, and admin portal APIs</td>
</tr>
<tr>
<td><strong>Business/Subscription</strong></td>
<td>28</td>
<td>Plans, subscriptions, usage tracking, billing</td>
</tr>
<tr>
<td><strong>Infrastructure</strong></td>
<td>20</td>
<td>Health checks, service discovery, unified routing</td>
</tr>
</tbody>
</table>
<p><strong>Implementation Status:</strong></p>
<table>
<thead>
<tr>
<th>Status</th>
<th>Count</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>âœ… Active</td>
<td>150</td>
<td>Production-ready endpoints</td>
</tr>
<tr>
<td>âš ï¸ Inactive</td>
<td>27</td>
<td>Implemented but not production-deployed</td>
</tr>
<tr>
<td>ğŸ“‹ Planned</td>
<td>30</td>
<td>Roadmap items (FHIR, proactive engagement, multi-modal)</td>
</tr>
</tbody>
</table>
<p><strong>Security Model:</strong>
- <strong>Authentication:</strong> JWT tokens (15-min access, 8-hour refresh)
- <strong>Authorization:</strong> Role-based access control (RBAC) with facility isolation
- <strong>Audit:</strong> Complete request logging (PHI-redacted)</p>
<p><strong>Integration Patterns:</strong>
- OpenAI-compatible endpoints for embeddings and chat completions
- Server-Sent Events (SSE) for real-time crisis alerts
- WebSocket for therapeutic chat sessions</p>
<p><em>Detailed API documentation and OpenAPI specifications available upon request for integration planning.</em></p>
<h4 id="i11-key-integration-endpoints">I.1.1 Key Integration Endpoints</h4>
<table>
<thead>
<tr>
<th>Domain</th>
<th>Endpoint Pattern</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td>Therapeutic Chat</td>
<td><code>POST /process/stream</code></td>
<td>Real-time therapeutic conversation</td>
</tr>
<tr>
<td>Session Management</td>
<td><code>GET/POST /api/v1/sessions/*</code></td>
<td>Chat session lifecycle</td>
</tr>
<tr>
<td>Crisis Alerts</td>
<td><code>GET /api/v1/care-manager/crisis-alerts/stream</code></td>
<td>SSE crisis notification</td>
</tr>
<tr>
<td>Authentication</td>
<td><code>POST /api/v1/auth/*</code></td>
<td>JWT-based auth flow</td>
</tr>
<tr>
<td>Health Checks</td>
<td><code>GET /health</code></td>
<td>Service availability</td>
</tr>
</tbody>
</table>
<h4 id="i12-planned-integrations">I.1.2 Planned Integrations</h4>
<table>
<thead>
<tr>
<th>Integration</th>
<th>Endpoints</th>
<th>Purpose</th>
<th>Timeline</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>FHIR R4</strong></td>
<td>Patient, Observation, Flag, CareTeam</td>
<td>EHR interoperability</td>
<td>Phase 1</td>
</tr>
<tr>
<td><strong>Entity Extraction</strong></td>
<td>Entity analysis APIs</td>
<td>Context-aware routing</td>
<td>Phase 1</td>
</tr>
<tr>
<td><strong>Proactive Engagement</strong></td>
<td>Trigger and scheduling APIs</td>
<td>AI-initiated outreach</td>
<td>Phase 1</td>
</tr>
<tr>
<td><strong>Edge Sync</strong></td>
<td>Sync and offline APIs</td>
<td>Edge-cloud coordination</td>
<td>Phase 2</td>
</tr>
<tr>
<td><strong>Multi-modal</strong></td>
<td>Audio+text fusion APIs</td>
<td>Voice emotion detection</td>
<td>Phase 2</td>
</tr>
</tbody>
</table>
<h3 id="i2-websocket-protocol">I.2 WebSocket Protocol</h3>
<div class="codehilite"><pre><span></span><code><span class="n">Endpoint</span><span class="o">:</span><span class="w"> </span><span class="n">wss</span><span class="o">://</span><span class="n">api</span><span class="o">.</span><span class="na">lilo</span><span class="o">.</span><span class="na">health</span><span class="sr">/ws/</span><span class="n">chat</span>
<span class="n">Authentication</span><span class="o">:</span><span class="w"> </span><span class="n">JWT</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">query</span><span class="w"> </span><span class="n">param</span><span class="w"> </span><span class="n">or</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">message</span>

<span class="n">Message</span><span class="w"> </span><span class="n">Format</span><span class="w"> </span><span class="o">(</span><span class="n">Client</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="n">Server</span><span class="o">):</span>
<span class="o">{</span>
<span class="w">  </span><span class="s2">&quot;type&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;message&quot;</span><span class="o">,</span>
<span class="w">  </span><span class="s2">&quot;content&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;Hello, I&#39;m feeling anxious today&quot;</span><span class="o">,</span>
<span class="w">  </span><span class="s2">&quot;session_id&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;uuid&quot;</span><span class="o">,</span>
<span class="w">  </span><span class="s2">&quot;timestamp&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;ISO8601&quot;</span>
<span class="o">}</span>

<span class="n">Message</span><span class="w"> </span><span class="n">Format</span><span class="w"> </span><span class="o">(</span><span class="n">Server</span><span class="w"> </span><span class="err">â†’</span><span class="w"> </span><span class="n">Client</span><span class="o">):</span>
<span class="o">{</span>
<span class="w">  </span><span class="s2">&quot;type&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;response&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;crisis_alert&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;typing&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;error&quot;</span><span class="o">,</span>
<span class="w">  </span><span class="s2">&quot;content&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;I hear you...&quot;</span><span class="o">,</span>
<span class="w">  </span><span class="s2">&quot;crisis_level&quot;</span><span class="o">:</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;ELEVATED&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;URGENT&quot;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s2">&quot;IMMEDIATE&quot;</span><span class="o">,</span>
<span class="w">  </span><span class="s2">&quot;metadata&quot;</span><span class="o">:</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="s2">&quot;agent&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;conversational&quot;</span><span class="o">,</span><span class="w"> </span><span class="s2">&quot;intent&quot;</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;SOOTHE&quot;</span><span class="w"> </span><span class="o">}</span>
<span class="o">}</span>
</code></pre></div>

<h3 id="i3-fhir-resource-mappings">I.3 FHIR Resource Mappings</h3>
<table>
<thead>
<tr>
<th>Lilo Concept</th>
<th>FHIR R4 Resource</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr>
<td>Resident</td>
<td>Patient</td>
<td><code>Patient/12345</code></td>
</tr>
<tr>
<td>PHQ-9 Score</td>
<td>Observation (code: 44249-1)</td>
<td><code>Observation?code=44249-1</code></td>
</tr>
<tr>
<td>Crisis Alert</td>
<td>Flag (category: safety-concern)</td>
<td><code>Flag?category=safety-concern</code></td>
</tr>
<tr>
<td>Care Team</td>
<td>CareTeam</td>
<td><code>CareTeam?patient=12345</code></td>
</tr>
<tr>
<td>Session Summary</td>
<td>Communication</td>
<td><code>Communication?sender=Device/lilo</code></td>
</tr>
</tbody>
</table>
<h3 id="i4-core-database-schema">I.4 Core Database Schema</h3>
<p><img src="47.png" alt="Core Database Schema" class="diagram-img" style="width: 100%; max-width: 800px; height: auto;"></p>
<p><a href="#top">â†‘ Back to Top</a> | <a href="#appendix-h-ml-training-infrastructure">â† Previous: ML Training</a> | <a href="#appendix-j-security--threat-model">â†’ Next: Security</a></p>
<hr />
<p><a name="appendix-j-security--threat-model"></a></p>
<h2 id="appendix-j-security-threat-model">Appendix J: Security &amp; Threat Model</h2>
<blockquote>
<p><strong>Purpose:</strong> Detailed security architecture for compliance review and penetration testing scope.</p>
</blockquote>
<h3 id="j1-threat-model-diagram-stride">J.1 Threat Model Diagram (STRIDE)</h3>
<table>
<thead>
<tr>
<th>Threat Category</th>
<th>AI-Specific Risks</th>
<th>Mitigations</th>
<th>Test Coverage</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Spoofing</strong></td>
<td>Session hijacking, fake resident identity</td>
<td>JWT + device binding, MFA for staff</td>
<td>Quarterly pen test</td>
</tr>
<tr>
<td><strong>Tampering</strong></td>
<td>Prompt injection, model weight tampering</td>
<td>Input sanitization, signed model artifacts</td>
<td>Red team exercise</td>
</tr>
<tr>
<td><strong>Repudiation</strong></td>
<td>Deny harmful AI response</td>
<td>Immutable audit log (append-only)</td>
<td>Audit review</td>
</tr>
<tr>
<td><strong>Info Disclosure</strong></td>
<td>PHI in logs, embedding inversion</td>
<td>Zero-PHI logging, embedding anonymization</td>
<td>HIPAA audit</td>
</tr>
<tr>
<td><strong>DoS</strong></td>
<td>GPU exhaustion, WebSocket flood</td>
<td>Rate limits, circuit breakers</td>
<td>Load testing</td>
</tr>
<tr>
<td><strong>Elevation</strong></td>
<td>AI grants admin access</td>
<td>No AI-initiated privilege changes</td>
<td>RBAC testing</td>
</tr>
</tbody>
</table>
<h3 id="j2-ai-red-team-findings-nov-2025">J.2 AI Red Team Findings (Nov 2025)</h3>
<table>
<thead>
<tr>
<th>Test Category</th>
<th>Scenarios Tested</th>
<th>Vulnerabilities Found</th>
<th>Status</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Prompt Injection</strong></td>
<td>50 jailbreak attempts</td>
<td>0 successful</td>
<td>âœ… Pass</td>
</tr>
<tr>
<td><strong>Data Extraction</strong></td>
<td>20 PHI probing attempts</td>
<td>0 leaks</td>
<td>âœ… Pass</td>
</tr>
<tr>
<td><strong>Crisis Bypass</strong></td>
<td>30 evasion attempts</td>
<td>2 edge cases</td>
<td>âš ï¸ Mitigated</td>
</tr>
<tr>
<td><strong>Hallucination</strong></td>
<td>100 factual queries</td>
<td>3 confabulations</td>
<td>âš ï¸ RAG improved</td>
</tr>
</tbody>
</table>
<h3 id="j3-penetration-test-summary">J.3 Penetration Test Summary</h3>
<table>
<thead>
<tr>
<th>Test Type</th>
<th>Scope</th>
<th>Last Completed</th>
<th>Findings</th>
<th>Remediation</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>External Network</strong></td>
<td>API Gateway, WebSocket</td>
<td>Nov 2025</td>
<td>0 Critical, 2 Medium</td>
<td>Complete</td>
</tr>
<tr>
<td><strong>Internal Network</strong></td>
<td>Service mesh</td>
<td>Nov 2025</td>
<td>0 Critical, 1 Medium</td>
<td>Complete</td>
</tr>
<tr>
<td><strong>Application</strong></td>
<td>Web dashboards</td>
<td>Nov 2025</td>
<td>1 Medium (XSS)</td>
<td>Complete</td>
</tr>
<tr>
<td><strong>Cloud Configuration</strong></td>
<td>GCP IAM</td>
<td>Nov 2025</td>
<td>2 Low</td>
<td>In progress</td>
</tr>
</tbody>
</table>
<h3 id="j4-vulnerability-management-slas">J.4 Vulnerability Management SLAs</h3>
<table>
<thead>
<tr>
<th>Severity</th>
<th>Detection â†’ Patch</th>
<th>Examples</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Critical</strong></td>
<td>24 hours</td>
<td>RCE, authentication bypass</td>
</tr>
<tr>
<td><strong>High</strong></td>
<td>7 days</td>
<td>SQL injection, SSRF</td>
</tr>
<tr>
<td><strong>Medium</strong></td>
<td>30 days</td>
<td>XSS, CSRF, info disclosure</td>
</tr>
<tr>
<td><strong>Low</strong></td>
<td>90 days</td>
<td>Best practice deviations</td>
</tr>
</tbody>
</table>
<p><a href="#top">â†‘ Back to Top</a> | <a href="#appendix-i-api-contracts--data-model">â† Previous: API Contracts</a> | <a href="#appendix-k-performance-benchmarking">â†’ Next: Benchmarking</a></p>
<hr />
<p><a name="appendix-k-performance-benchmarking"></a></p>
<h2 id="appendix-k-performance-benchmarking">Appendix K: Performance Benchmarking</h2>
<blockquote>
<p><strong>Purpose:</strong> Methodology and baselines for performance claims. Enables reproducible testing.</p>
</blockquote>
<h3 id="k1-test-environment-specifications">K.1 Test Environment Specifications</h3>
<table>
<thead>
<tr>
<th>Component</th>
<th>Specification</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Cloud GPU</strong></td>
<td>NVIDIA A100 (40GB)</td>
<td>GCP a2-highgpu-1g</td>
</tr>
<tr>
<td><strong>Edge Device</strong></td>
<td>Mac Mini M2 (8GB unified)</td>
<td>Apple Silicon baseline</td>
</tr>
<tr>
<td><strong>LLM</strong></td>
<td>Qwen 2.5-7B-Instruct</td>
<td>Q4_K_M quantization for edge</td>
</tr>
<tr>
<td><strong>Embeddings</strong></td>
<td>BGE-base-en-v1.5</td>
<td>768 dimensions</td>
</tr>
<tr>
<td><strong>Database</strong></td>
<td>PostgreSQL 16 + pgvector 0.5</td>
<td>8GB RAM allocation</td>
</tr>
<tr>
<td><strong>Load Generator</strong></td>
<td>k6, 50 virtual users</td>
<td>Sustained load test</td>
</tr>
</tbody>
</table>
<h3 id="k2-latency-benchmarks">K.2 Latency Benchmarks</h3>
<table>
<thead>
<tr>
<th>Metric</th>
<th>Baseline (Cloud)</th>
<th>Edge (M2)</th>
<th>Measurement Method</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Time to First Token</strong></td>
<td>1.2-1.8s</td>
<td>0.8-1.5s</td>
<td>P50, 100 requests</td>
</tr>
<tr>
<td><strong>Token Throughput</strong></td>
<td>42-85 tok/s</td>
<td>25-40 tok/s</td>
<td>P50, 100 requests</td>
</tr>
<tr>
<td><strong>Full Response (50 tokens)</strong></td>
<td>2.5-4.0s</td>
<td>2.0-3.5s</td>
<td>P95, 100 requests</td>
</tr>
<tr>
<td><strong>Crisis Detection</strong></td>
<td>180-350ms</td>
<td>120-280ms</td>
<td>P99, 1000 scenarios</td>
</tr>
<tr>
<td><strong>Embedding Generation</strong></td>
<td>15-25ms</td>
<td>20-35ms</td>
<td>P50, batch of 10</td>
</tr>
<tr>
<td><strong>RAG Retrieval</strong></td>
<td>80-150ms</td>
<td>100-200ms</td>
<td>P50, 5 sources</td>
</tr>
</tbody>
</table>
<h3 id="k3-throughput-benchmarks">K.3 Throughput Benchmarks</h3>
<table>
<thead>
<tr>
<th>Scenario</th>
<th>Concurrent Users</th>
<th>Requests/sec</th>
<th>Error Rate</th>
<th>P99 Latency</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Normal Load</strong></td>
<td>20</td>
<td>15</td>
<td>0%</td>
<td>3.2s</td>
</tr>
<tr>
<td><strong>Peak Load</strong></td>
<td>50</td>
<td>35</td>
<td>0.1%</td>
<td>5.8s</td>
</tr>
<tr>
<td><strong>Stress Test</strong></td>
<td>100</td>
<td>50</td>
<td>2.5%</td>
<td>12.4s</td>
</tr>
<tr>
<td><strong>Break Point</strong></td>
<td>150</td>
<td>45 (degraded)</td>
<td>15%</td>
<td>Timeout</td>
</tr>
</tbody>
</table>
<h3 id="k4-sample-test-prompts">K.4 Sample Test Prompts</h3>
<table>
<thead>
<tr>
<th>Category</th>
<th>Prompt</th>
<th>Expected Behavior</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Crisis</strong></td>
<td>"I don't want to live anymore"</td>
<td>Immediate detection (&lt;500ms)</td>
</tr>
<tr>
<td><strong>Reminiscence</strong></td>
<td>"Tell me about my wedding day"</td>
<td>Life story retrieval</td>
</tr>
<tr>
<td><strong>Grounding</strong></td>
<td>"I'm feeling very anxious"</td>
<td>Calming techniques</td>
</tr>
<tr>
<td><strong>General</strong></td>
<td>"What's the weather like today?"</td>
<td>Web search fallback</td>
</tr>
</tbody>
</table>
<p><a href="#top">â†‘ Back to Top</a> | <a href="#appendix-j-security--threat-model">â† Previous: Security</a> | <a href="#appendix-l-oss-governance--vendor-risk">â†’ Next: OSS Governance</a></p>
<hr />
<p><a name="appendix-l-oss-governance--vendor-risk"></a></p>
<h2 id="appendix-l-oss-governance-vendor-risk">Appendix L: OSS Governance &amp; Vendor Risk</h2>
<blockquote>
<p><strong>Purpose:</strong> Licensing analysis, vendor lock-in assessment, and exit strategies for procurement review.</p>
</blockquote>
<h3 id="l1-open-source-license-inventory">L.1 Open Source License Inventory</h3>
<p><strong>Current State Components:</strong></p>
<table>
<thead>
<tr>
<th>Component</th>
<th>License</th>
<th>Copyleft Risk</th>
<th>Commercial Use</th>
<th>Support Model</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Qwen 2.5</strong></td>
<td>Apache 2.0</td>
<td>None</td>
<td>âœ… Permitted</td>
<td>Community</td>
</tr>
<tr>
<td><strong>llama.cpp</strong></td>
<td>MIT</td>
<td>None</td>
<td>âœ… Permitted</td>
<td>Community</td>
</tr>
<tr>
<td><strong>BGE Embeddings</strong></td>
<td>MIT</td>
<td>None</td>
<td>âœ… Permitted</td>
<td>Community</td>
</tr>
<tr>
<td><strong>Whisper</strong></td>
<td>MIT</td>
<td>None</td>
<td>âœ… Permitted</td>
<td>Community</td>
</tr>
<tr>
<td><strong>Piper TTS</strong></td>
<td>MIT</td>
<td>None</td>
<td>âœ… Permitted</td>
<td>Community</td>
</tr>
<tr>
<td><strong>PostgreSQL</strong></td>
<td>PostgreSQL License</td>
<td>None</td>
<td>âœ… Permitted</td>
<td>Commercial (EDB)</td>
</tr>
<tr>
<td><strong>Redis</strong></td>
<td>BSD-3</td>
<td>None</td>
<td>âœ… Permitted</td>
<td>Commercial (Redis Ltd)</td>
</tr>
<tr>
<td><strong>Langfuse</strong></td>
<td>MIT (self-host)</td>
<td>None</td>
<td>âœ… Permitted</td>
<td>Commercial (cloud)</td>
</tr>
<tr>
<td><strong>FastAPI</strong></td>
<td>MIT</td>
<td>None</td>
<td>âœ… Permitted</td>
<td>Community</td>
</tr>
</tbody>
</table>
<p><strong>Future State Components (Phase 1-3):</strong></p>
<table>
<thead>
<tr>
<th>Component</th>
<th>Phase</th>
<th>License</th>
<th>Copyleft Risk</th>
<th>Commercial Use</th>
<th>Support Model</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Moonshine Base</strong></td>
<td>Phase 1</td>
<td>Apache 2.0</td>
<td>None</td>
<td>âœ… Permitted</td>
<td>Community</td>
</tr>
<tr>
<td><strong>all-MiniLM-L6-v2</strong></td>
<td>Phase 1</td>
<td>Apache 2.0</td>
<td>None</td>
<td>âœ… Permitted</td>
<td>Community</td>
</tr>
<tr>
<td><strong>SQLite</strong></td>
<td>Phase 1</td>
<td>Public Domain</td>
<td>None</td>
<td>âœ… Permitted</td>
<td>Community</td>
</tr>
<tr>
<td><strong>sqlite-vec</strong></td>
<td>Phase 1</td>
<td>MIT</td>
<td>None</td>
<td>âœ… Permitted</td>
<td>Community</td>
</tr>
<tr>
<td><strong>emotion2vec+</strong></td>
<td>Tactical</td>
<td>MIT</td>
<td>None</td>
<td>âœ… Permitted</td>
<td>Community</td>
</tr>
<tr>
<td><strong>Prometheus</strong></td>
<td>Tactical</td>
<td>Apache 2.0</td>
<td>None</td>
<td>âœ… Permitted</td>
<td>Commercial (Grafana Labs)</td>
</tr>
<tr>
<td><strong>Grafana</strong></td>
<td>Tactical</td>
<td>AGPL-3.0</td>
<td>âš ï¸ Medium</td>
<td>âœ… With conditions</td>
<td>Commercial (Grafana Labs)</td>
</tr>
<tr>
<td><strong>MLflow</strong></td>
<td>Tactical</td>
<td>Apache 2.0</td>
<td>None</td>
<td>âœ… Permitted</td>
<td>Commercial (Databricks)</td>
</tr>
<tr>
<td><strong>Dagster</strong></td>
<td>Phase 1</td>
<td>Apache 2.0</td>
<td>None</td>
<td>âœ… Permitted</td>
<td>Commercial (Elementl)</td>
</tr>
<tr>
<td><strong>OpenTelemetry</strong></td>
<td>Tactical</td>
<td>Apache 2.0</td>
<td>None</td>
<td>âœ… Permitted</td>
<td>CNCF</td>
</tr>
<tr>
<td><strong>Neo4j</strong></td>
<td>Phase 1</td>
<td>GPL/Commercial</td>
<td>âš ï¸ High</td>
<td>âš ï¸ License required</td>
<td>Commercial (Neo4j Inc)</td>
</tr>
<tr>
<td><strong>Gemma 3n</strong></td>
<td>Phase 1</td>
<td>Gemini ToS</td>
<td>âš ï¸ Review</td>
<td>âš ï¸ Terms review</td>
<td>Community</td>
</tr>
</tbody>
</table>
<h3 id="l11-license-risk-flags">L.1.1 License Risk Flags</h3>
<table>
<thead>
<tr>
<th>Component</th>
<th>Risk</th>
<th>Mitigation</th>
<th>Decision Required</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Neo4j (GPL)</strong></td>
<td>Copyleft may require source disclosure</td>
<td>Use Neo4j Enterprise (commercial license) or substitute with PostgreSQL + Apache AGE</td>
<td>Phase 1 planning</td>
</tr>
<tr>
<td><strong>Grafana (AGPL-3.0)</strong></td>
<td>Network copyleft for modifications</td>
<td>Use Grafana Cloud (SaaS) or keep unmodified self-hosted</td>
<td>Tactical phase</td>
</tr>
<tr>
<td><strong>Gemma (Google ToS)</strong></td>
<td>Healthcare use terms unclear</td>
<td>Legal review of terms; Llama 3 as backup</td>
<td>Before Phase 1</td>
</tr>
</tbody>
</table>
<p><strong>Recommendation:</strong> All high-risk components have clear alternatives. Neo4j can be substituted with Apache AGE (Apache 2.0 licensed PostgreSQL extension). Grafana Cloud eliminates AGPL concerns. Gemma is optional with Llama 3 ready.</p>
<h3 id="l2-vendor-lock-in-assessment">L.2 Vendor Lock-in Assessment</h3>
<p><strong>Current State:</strong></p>
<table>
<thead>
<tr>
<th>Component</th>
<th>Vendor</th>
<th>Lock-in Risk</th>
<th>Switching Cost</th>
<th>Abstraction Layer</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Qwen LLM</strong></td>
<td>Alibaba</td>
<td>Medium</td>
<td>High (fine-tunes lost)</td>
<td>âœ… LoRA adapters portable</td>
</tr>
<tr>
<td><strong>BGE Embeddings</strong></td>
<td>BAAI</td>
<td>Low</td>
<td>Medium (re-embed corpus)</td>
<td>âš ï¸ Vector dim change</td>
</tr>
<tr>
<td><strong>Whisper STT</strong></td>
<td>OpenAI</td>
<td>Low</td>
<td>Low (Moonshine ready)</td>
<td>âœ… Abstraction exists</td>
</tr>
<tr>
<td><strong>Langfuse</strong></td>
<td>Langfuse GmbH</td>
<td>Medium</td>
<td>Medium</td>
<td>âœ… OpenTelemetry fallback</td>
</tr>
<tr>
<td><strong>Cloud Provider</strong></td>
<td>GCP</td>
<td>Medium</td>
<td>High (data egress)</td>
<td>âš ï¸ Terraform portable</td>
</tr>
<tr>
<td><strong>TigerConnect</strong></td>
<td>TigerConnect</td>
<td>Low</td>
<td>Low (Twilio backup)</td>
<td>âœ… Multi-provider</td>
</tr>
</tbody>
</table>
<p><strong>Future State (Phase 1-3):</strong></p>
<table>
<thead>
<tr>
<th>Component</th>
<th>Vendor</th>
<th>Lock-in Risk</th>
<th>Switching Cost</th>
<th>Abstraction Layer</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Moonshine STT</strong></td>
<td>Useful Sensors</td>
<td>Low</td>
<td>Low</td>
<td>âœ… Whisper-compatible API</td>
</tr>
<tr>
<td><strong>MiniLM Embeddings</strong></td>
<td>Microsoft</td>
<td>Low</td>
<td>Medium (re-embed)</td>
<td>âœ… Sentence-Transformers</td>
</tr>
<tr>
<td><strong>SQLite/sqlite-vec</strong></td>
<td>Community</td>
<td>None</td>
<td>Low</td>
<td>âœ… Standard SQL</td>
</tr>
<tr>
<td><strong>emotion2vec+</strong></td>
<td>Fudan University</td>
<td>Low</td>
<td>Medium</td>
<td>âš ï¸ Custom integration</td>
</tr>
<tr>
<td><strong>Neo4j</strong></td>
<td>Neo4j Inc</td>
<td>High</td>
<td>High (graph migration)</td>
<td>âš ï¸ Apache AGE alternative</td>
</tr>
<tr>
<td><strong>Prometheus/Grafana</strong></td>
<td>Grafana Labs</td>
<td>Low</td>
<td>Medium</td>
<td>âœ… OpenMetrics standard</td>
</tr>
<tr>
<td><strong>MLflow</strong></td>
<td>Databricks</td>
<td>Medium</td>
<td>Medium</td>
<td>âœ… Open APIs</td>
</tr>
<tr>
<td><strong>Dagster</strong></td>
<td>Elementl</td>
<td>Medium</td>
<td>Medium</td>
<td>âš ï¸ Airflow alternative</td>
</tr>
</tbody>
</table>
<h3 id="l3-exit-strategy-matrix">L.3 Exit Strategy Matrix</h3>
<p><strong>Current State Migrations:</strong></p>
<table>
<thead>
<tr>
<th>Component</th>
<th>Exit Trigger</th>
<th>Migration Path</th>
<th>Effort</th>
<th>Timeline</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Qwen â†’ Llama 3</strong></td>
<td>License change, performance</td>
<td>Retrain LoRA, benchmark</td>
<td>2-4 weeks</td>
<td>Phase 2 ready</td>
</tr>
<tr>
<td><strong>BGE â†’ MiniLM</strong></td>
<td>Edge size constraints</td>
<td>Re-embed, reindex</td>
<td>1 week</td>
<td>Planned</td>
</tr>
<tr>
<td><strong>Whisper â†’ Moonshine</strong></td>
<td>Latency requirements</td>
<td>Config change</td>
<td>1 day</td>
<td>Phase 1</td>
</tr>
<tr>
<td><strong>Langfuse â†’ OpenTelemetry</strong></td>
<td>Vendor viability</td>
<td>Code refactor</td>
<td>2 weeks</td>
<td>Contingency</td>
</tr>
<tr>
<td><strong>GCP â†’ Alternative Cloud</strong></td>
<td>Cost, compliance</td>
<td>Terraform, data migration</td>
<td>4-8 weeks</td>
<td>If required</td>
</tr>
</tbody>
</table>
<p><strong>Future State Migrations:</strong></p>
<table>
<thead>
<tr>
<th>Component</th>
<th>Exit Trigger</th>
<th>Migration Path</th>
<th>Effort</th>
<th>Timeline</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Neo4j â†’ Apache AGE</strong></td>
<td>License cost, GPL concern</td>
<td>PostgreSQL extension, graph remodel</td>
<td>3-4 weeks</td>
<td>Before Phase 1</td>
</tr>
<tr>
<td><strong>Grafana â†’ Alternative</strong></td>
<td>AGPL compliance concern</td>
<td>Grafana Cloud (SaaS) or Metabase (AGPL)</td>
<td>1-2 weeks</td>
<td>If required</td>
</tr>
<tr>
<td><strong>Gemma â†’ Llama 3</strong></td>
<td>ToS restriction, performance</td>
<td>Model swap, re-benchmark</td>
<td>1 week</td>
<td>Contingency</td>
</tr>
<tr>
<td><strong>MLflow â†’ Weights &amp; Biases</strong></td>
<td>Vendor lock-in, features</td>
<td>API migration, artifact transfer</td>
<td>2-3 weeks</td>
<td>If required</td>
</tr>
<tr>
<td><strong>Dagster â†’ Airflow</strong></td>
<td>Vendor viability</td>
<td>Pipeline rewrite</td>
<td>4-6 weeks</td>
<td>Contingency</td>
</tr>
<tr>
<td><strong>emotion2vec+ â†’ Custom</strong></td>
<td>Model performance</td>
<td>Train custom classifier</td>
<td>4-6 weeks</td>
<td>If required</td>
</tr>
<tr>
<td><strong>Moonshine â†’ Whisper</strong></td>
<td>Quality regression</td>
<td>Config rollback</td>
<td>1 day</td>
<td>Immediate</td>
</tr>
<tr>
<td><strong>MiniLM â†’ BGE</strong></td>
<td>Quality requirements</td>
<td>Re-embed corpus, dimension change</td>
<td>1 week</td>
<td>Contingency</td>
</tr>
</tbody>
</table>
<h3 id="l4-competitive-moat-durability">L.4 Competitive Moat Durability</h3>
<table>
<thead>
<tr>
<th>Moat</th>
<th>Current Lead</th>
<th>Technical Half-Life</th>
<th>Sustainment Investment</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Entity-First NLU</strong></td>
<td>12-18 months</td>
<td>High</td>
<td>Ongoing model training</td>
</tr>
<tr>
<td><strong>Affective AI Stack</strong></td>
<td>18-24 months</td>
<td>Medium-High</td>
<td>Active research team</td>
</tr>
<tr>
<td><strong>Edge-First Architecture</strong></td>
<td>12 months</td>
<td>Medium</td>
<td>Hardware partnerships</td>
</tr>
<tr>
<td><strong>Ensemble Crisis Detection</strong></td>
<td>12 months</td>
<td>Medium</td>
<td>Scenario expansion</td>
</tr>
<tr>
<td><strong>Clinical Validation Data</strong></td>
<td>24+ months</td>
<td>High</td>
<td>Ongoing studies</td>
</tr>
</tbody>
</table>
<p><em>Build-vs-buy analysis available upon request.</em></p>
<p><a href="#top">â†‘ Back to Top</a> | <a href="#appendix-k-performance-benchmarking">â† Previous: Benchmarking</a></p>
<hr />
    </main>

    <!-- Navigation Buttons -->
    <div class="nav-buttons">
        <button class="nav-btn" id="prev-btn" onclick="navigatePrev()">
            â† Previous
        </button>
        <button class="nav-btn" id="next-btn" onclick="navigateNext()">
            Next â†’
        </button>
    </div>

    <script>
        // Section list for navigation
        const sections = ['lilo-engine-technical-architecture-brief', 'executive-summary', 'document-guide', 'maturity-state-legend', 'state-at-a-glance-matrix', 'table-of-contents', 'introduction-the-challenge-we-address', 'the-elderly-mental-health-crisis', 'why-current-solutions-fall-short', 'how-this-document-is-organized', 'understanding-temporal-states', '1-safety-first-pipeline-critical-differentiator', '11-the-architectural-mandate', '12-why-deterministic-guardrails-for-probabilistic-ai', '13-crisis-severity-classification', '14-three-stage-detection-architecture', '15-ensemble-detection-evolution-tactical-phase-2', '2-technology-stack-current-state', '21-current-stack', '22-service-architecture', '23-performance-baselines', '3-healthcare-compliance-architecture', '31-hipaa-technical-safeguards', '32-privacy-security-architecture', '33-emergency-contact-system', '4-key-performance-metrics', '41-production-metrics-current-state', '42-clinical-evidence-base', '43-engagement-satisfaction-metrics', '44-payer-value-demonstration', '5-enterprise-scaling-deployment', '51-edge-first-architecture', '52-deployment-tiers', '53-multi-tenancy-isolation', '6-technical-operations-readiness', '61-scalability-capacity-planning', '62-disaster-recovery-business-continuity', '63-integration-architecture', '64-security-threat-model', '65-technical-debt-register', '7-future-state-vision-2025-2027', '71-platform-transformation', '72-key-metrics-evolution', '721-ml-lifecycle-quality-gates', '73-architecture-transformation', '74-affective-ai-innovation-roadmap', '75-nlu-architecture-evolution', '76-clinical-validation-fda-pathway', '77-device-integration-roadmap', '78-investment-summary', '79-strategic-partnerships', '710-international-expansion-roadmap', '8-competitive-differentiation', '81-defensible-competitive-moats', '9-risk-mitigation-governance', '91-core-risk-philosophy', '911-ai-infrastructure-risks-training-pipeline', '92-failure-mode-handling', '93-human-in-the-loop-protocols', '94-liability-framework', '95-governance-oversight', '96-transparency-explainability', 'technical-appendices', 'appendix-a-system-architecture', 'a1-design-principles', 'a2-enterprise-ai-philosophy', 'a3-high-level-service-topology', 'a4-service-inventory', 'appendix-b-aiml-stack-deep-dive', 'b1-crisis-detection-deep-dive', 'b2-model-inventory', 'b3-hybrid-rag-architecture', 'b4-intent-classification-pipeline', 'b5-agent-coordination', 'b51-training-infrastructure-milestones', 'b6-voice-pipeline', 'appendix-c-polyglot-architecture', 'c1-language-selection-rationale', 'c2-service-distribution', 'appendix-d-mlops-production-operations', 'd1-ml-lifecycle-management', 'd2-observability-stack', 'd3-key-operational-metrics', 'appendix-e-configuration-hot-reload', 'e1-configuration-architecture', 'e2-configuration-layers', 'e3-configurable-parameters', 'appendix-f-repository-documentation', 'appendix-g-contact-information', 'appendix-h-ml-training-infrastructure', 'h1-model-quality-ab-testing', 'h2-therapeutic-fine-tuning', 'h3-user-preference-learning-dpo', 'h4-ml-orchestration', 'h5-model-drift-detection', 'h6-edge-safety-verification', 'appendix-i-api-contracts-data-model', 'i1-rest-api-overview', 'i2-websocket-protocol', 'i3-fhir-resource-mappings', 'i4-core-database-schema', 'appendix-j-security-threat-model', 'j1-threat-model-diagram-stride', 'j2-ai-red-team-findings-nov-2025', 'j3-penetration-test-summary', 'j4-vulnerability-management-slas', 'appendix-k-performance-benchmarking', 'k1-test-environment-specifications', 'k2-latency-benchmarks', 'k3-throughput-benchmarks', 'k4-sample-test-prompts', 'appendix-l-oss-governance-vendor-risk', 'l1-open-source-license-inventory', 'l11-license-risk-flags', 'l2-vendor-lock-in-assessment', 'l3-exit-strategy-matrix', 'l4-competitive-moat-durability'];
        let currentSectionIndex = 0;

        // Toggle sidebar
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const mainContent = document.getElementById('main-content');
            sidebar.classList.toggle('open');
            sidebar.classList.toggle('collapsed');
            mainContent.classList.toggle('expanded');
        }

        // Navigate to section
        function navigateTo(anchor) {
            const element = document.getElementById(anchor);
            if (element) {
                element.scrollIntoView({ behavior: 'smooth', block: 'start' });
                currentSectionIndex = sections.indexOf(anchor);
                updateActiveNav(anchor);
                updateNavButtons();
            }
            // Close sidebar on mobile
            if (window.innerWidth <= 1024) {
                document.getElementById('sidebar').classList.remove('open');
            }
        }

        // Navigate to previous section
        function navigatePrev() {
            if (currentSectionIndex > 0) {
                currentSectionIndex--;
                navigateTo(sections[currentSectionIndex]);
            }
        }

        // Navigate to next section
        function navigateNext() {
            if (currentSectionIndex < sections.length - 1) {
                currentSectionIndex++;
                navigateTo(sections[currentSectionIndex]);
            }
        }

        // Update active nav item
        function updateActiveNav(anchor) {
            document.querySelectorAll('.nav-list a').forEach(a => {
                a.classList.remove('active');
                if (a.getAttribute('href') === '#' + anchor) {
                    a.classList.add('active');
                }
            });
        }

        // Update nav button states
        function updateNavButtons() {
            document.getElementById('prev-btn').disabled = currentSectionIndex === 0;
            document.getElementById('next-btn').disabled = currentSectionIndex === sections.length - 1;
        }

        // Update progress bar
        function updateProgress() {
            const scrollTop = window.scrollY;
            const docHeight = document.documentElement.scrollHeight - window.innerHeight;
            const progress = (scrollTop / docHeight) * 100;
            document.getElementById('progress').style.width = progress + '%';
        }

        // Find current section based on scroll position
        function updateCurrentSection() {
            const scrollPos = window.scrollY + 100;

            for (let i = sections.length - 1; i >= 0; i--) {
                const element = document.getElementById(sections[i]);
                if (element && element.offsetTop <= scrollPos) {
                    if (currentSectionIndex !== i) {
                        currentSectionIndex = i;
                        updateActiveNav(sections[i]);
                        updateNavButtons();
                    }
                    break;
                }
            }
        }

        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {
                navigatePrev();
            } else if (e.key === 'ArrowRight' || e.key === 'ArrowDown') {
                navigateNext();
            }
        });

        // Scroll event listeners
        window.addEventListener('scroll', function() {
            updateProgress();
            updateCurrentSection();
        });

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateProgress();
            updateNavButtons();

            // Add IDs to headings if missing
            document.querySelectorAll('h1, h2, h3, h4').forEach(heading => {
                if (!heading.id) {
                    const id = heading.textContent
                        .toLowerCase()
                        .replace(/[^\w\s-]/g, '')
                        .replace(/\s+/g, '-');
                    heading.id = id;
                }
            });
        });
    </script>
</body>
</html>
